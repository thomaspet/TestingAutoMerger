$entityDetailsHeight: 25rem

@keyframes fadein
    from
        opacity: 0
    to
        opacity: 1

@keyframes slideopen
    from
        transform: scaleY(0)
    to
        transform: scaleY(1)

@keyframes slideclosed
    to
        transform: scaleY(0)
    from
        transform: scaleY(1)

@keyframes slideblur
    from
        transform: translateX(0)

    to
        transform: translateY($entityDetailsHeight)

@keyframes slideunblur
    to
        transform: translateX(0)

    from
        transform: translateY($entityDetailsHeight)


.entityDetails_toggle
    cursor: pointer
    -webkit-user-select: none
    background: unicon-chevron-right(#808080) no-repeat .5rem center
    background-size: .35rem
    padding: .1rem .5rem .1rem 1.5rem
    border-radius: var(--button-radius)
    border: 1px solid var(--border-color)

    &.-is-active
        background-color: $uni-color-negative
        background-image: unicon-chevron-down($uni-color-positive)
        background-position: .5rem center
        background-size: .6rem
        color: $uni-color-positive !important

.entityDetails
    height: $entityDetailsHeight
    background-color: #fff
    position: absolute
    z-index: #{map-get($zindex, toolbar) - 1}
    left: 0
    right: 0
    top: 5rem
    transform-origin: top
    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14)

    .collapsable-content
        justify-content: center
    fieldset
        height: 20rem
        box-shadow: none
        margin-top: 1rem

    &[aria-expanded=true]
        transform: scaleY(1)
        animation: 300ms ease slideopen

    &[aria-expanded=false]
        transform: scaleY(0)
        animation: 300ms ease slideclosed

    & + .content
        &[aria-disabled=true]
            pointer-events: none
            transform: translateY($entityDetailsHeight)
            animation: 300ms ease slideblur

        &[aria-disabled=false]
            filter: none
            transform: none
            animation: 300ms ease slideunblur


        &[aria-disabled=true]:before
            content: ''
            display: block
            position: fixed
            left: 0
            right: 0
            top: -100vh
            bottom: -100vh
            z-index: #{map-get($zindex, 'toolbar') - 1}
            background: transparentize($uni-color-scale4, .4)
            animation: 300ms ease fadein
