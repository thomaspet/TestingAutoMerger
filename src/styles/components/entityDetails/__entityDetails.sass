$entityDetailsHeight: 20rem

@keyframes fadein
    from
        opacity: 0
    to
        opacity: 1

@keyframes slideopen
    from
        transform: scaleY(0)
    to
        transform: scaleY(1)

@keyframes slideclosed
    to
        transform: scaleY(0)
    from
        transform: scaleY(1)

@keyframes slideblur
    from
        transform: translateX(0)

    to
        transform: translateY($entityDetailsHeight)

@keyframes slideunblur
    to
        transform: translateX(0)

    from
        transform: translateY($entityDetailsHeight)


.entityDetails_toggle
    // margin-bottom: .8rem
    cursor: pointer
    -webkit-user-select: none
    background: unicon-chevron-right($uni-color-negative) no-repeat .5rem center
    background-size: .35rem
    padding: .1rem .5rem .1rem 1.5rem
    background-color: mix($uni-color-positive, $uni-color-toolbar, 15%)
    border-radius: pxToRem(3)
    border: pxToRem(1) solid mix($uni-color-toolbar, $uni-color-negative, 80%)

    &:hover
        background-color: mix($uni-color-positive, $uni-color-toolbar, 35%)

    &.-is-active
        background-color: $uni-color-negative
        background-image: unicon-chevron-down($uni-color-positive)
        background-position: .5rem center
        background-size: .6rem
        color: $uni-color-positive !important

.entityDetails
    background-color: $uni-color-negative
    position: absolute
    z-index: map-get($zindex, 'toolbar')
    left: 0
    right: 0
    top: 7.15rem
    height: $entityDetailsHeight
    transform-origin: top

    &[aria-expanded=true]
        transform: scaleY(1)
        animation: 300ms ease slideopen

    &[aria-expanded=false]
        transform: scaleY(0)
        animation: 300ms ease slideclosed

    & + .content
        &[aria-disabled=true]
            pointer-events: none
            transform: translateY($entityDetailsHeight)
            animation: 300ms ease slideblur

        &[aria-disabled=false]
            filter: none
            transform: none
            animation: 300ms ease slideunblur


        &[aria-disabled=true]:before
            content: ''
            display: block
            position: fixed
            left: 0
            right: 0
            top: -100vh
            bottom: -100vh
            z-index: #{map-get($zindex, 'toolbar') - 1}
            background: transparentize($uni-color-scale4, .4)
            animation: 300ms ease fadein
