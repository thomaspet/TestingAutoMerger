$entityDetailsHeight: 20rem

@keyframes fadein
    from
        opacity: 0
    to
        opacity: 1

@keyframes slideopen
    from
        transform: scaleY(0)
    to
        transform: scaleY(1)

@keyframes slideclosed
    to
        transform: scaleY(0)
    from
        transform: scaleY(1)

@keyframes slideblur
    from
        filter: blur(0)
        transform: translateX(0)

    to
        filter: blur(.2rem)
        transform: translateY($entityDetailsHeight)

@keyframes slideunblur
    to
        filter: blur(0)
        transform: translateX(0)

    from
        filter: blur(.2rem)
        transform: translateY($entityDetailsHeight)


.entityDetails_toggle
    height: 1.7rem
    margin-bottom: .8rem
    cursor: pointer
    -webkit-user-select: none
    background-image: unicon-chevron-right($uni-color-negative)
    background-position: left .9rem top .5rem
    background-repeat: no-repeat
    background-size: auto .6rem
    padding: 0 1rem 0 1.8rem
    background-color: mix($uni-color-positive, $uni-color-toolbar, 15%)
    border-radius: pxToRem(3)
    border: pxToRem(1) solid mix($uni-color-toolbar, $uni-color-negative, 80%)
    order: 2

    &:hover
        background-color: mix($uni-color-positive, $uni-color-toolbar, 35%)

    &.-is-active
        height: 2.5rem
        margin-bottom: 0
        background-color: $uni-color-negative
        background-image: unicon-chevron-down($uni-color-c2a)
        background-position: left .6rem top .6rem
        background-size: .8rem auto
        color: $uni-color-c2a
        border-radius: pxToRem(2) pxToRem(2) 0 0
        border-color: transparent

.entityDetails
    background-color: $uni-color-negative
    position: absolute
    z-index: #{map-get($zindex, 'toolbar') - 1}
    left: 0
    right: 0
    top: 8rem
    height: $entityDetailsHeight
    transform-origin: top

    &[aria-expanded=true]
        transform: scaleY(1)
        animation: 300ms ease slideopen

    &[aria-expanded=false]
        transform: scaleY(0)
        animation: 300ms ease slideclosed

    & + .content
        &[aria-disabled=true]
            pointer-events: none
            filter: blur(.2rem)
            transform: translateY($entityDetailsHeight)
            animation: 300ms ease slideblur

        &[aria-disabled=false]
            filter: none
            transform: none
            animation: 300ms ease slideunblur


        &[aria-disabled=true]:before
            content: ''
            display: block
            position: fixed
            left: 0
            right: 0
            top: -100vh
            bottom: -100vh
            z-index: #{map-get($zindex, 'toolbar') - 1}
            background: transparentize($uni-color-scale9, .25)
            animation: 300ms ease fadein
