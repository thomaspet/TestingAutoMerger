$table-border-style: 1px solid $uni-color-scale9

ag-grid-angular
    width: 100%
    height: 100%

.uni-ag-wrapper
    display: block
    position: relative

    .table-contextmenu
        margin-top: 0

// Borders
.ag-header
    border: $table-border-style
    border-right: none
    .ag-pinned-right-header
        border-left: $table-border-style
        border-right: $table-border-style

.ag-body
    .ag-pinned-right-cols-container .ag-cell
        border-left: $table-border-style
        border-right: $table-border-style

    .ag-body-container .ag-cell:first-of-type
        border-left: $table-border-style

    .ag-pinned-right-cols-container .ag-cell
        border-left: $table-border-style
        border-right: $table-border-style

ag-grid-wrapper:not(.selection-list)
    .ag-header
        border-left: none

    .ag-body .ag-cell,
    .ag-header-container .ag-header-cell
        border-left: $table-border-style

ag-grid-wrapper.selection-list
    .ag-header:hover // show resize guides on hover
        .ag-header-cell:not(:first-of-type)
            border-left: $table-border-style

    .ag-row
        cursor: pointer

ag-grid-angular.col-menu-hidden
    .ag-header
        border-right: $table-border-style
    .ag-body-container .ag-cell:last-of-type
        border-right: $table-border-style

.ag-row
    border-bottom: $table-border-style

// Header & cell styling
.ag-header
    background: #ebeef5
.ag-cell
    line-height: 35px
.ag-header-cell
    line-height: 35px // 40px

.ag-cell, .ag-header-cell
    padding: 0 10px

    &:focus
        outline: none

    .ag-header-cell-resize
        position: absolute
        right: -1px
        width: 10px

    &.col-menu, &.row-menu
        padding: 0
        cursor: pointer
        text-align: center
        color: $uni-color-scale5

    &.col-menu i.material-icons
        line-height: 35px // 40px
        margin-left: -2px
        font-size: 20px

    &.row-menu i.material-icons
        line-height: 35px

    &.row-menu .row-menu-container
        display: block
        height: 35px
        width: 100%

        i.material-icons
            width: 39px
            box-sizing: border-box
            &:not(:first-of-type)
                border-left: $table-border-style

.ag-cell
    span[role=link]
        display: block
        cursor: pointer
        margin: 5px 0
        padding: 0 5px
        line-height: 25px // row height - margin
        text-decoration: underline
        color: $uni-color-c2a !important // #0082c0 !important
        &:hover
            background: darken(#d4dfee, 5%)

    &.number-good
        color: #0082c0 !important
    &.number-bad, &.date-bad
        color: $uni-color-bad !important

.align-left
    text-align: left !important
.align-right
    text-align: right !important
.align-center
    text-align: center !important

// Row styling

.ag-row
    &.ag-row-even
        background: #fff

    &.ag-row-odd
        background: mix(#fff, $uni-color-scale9, 85%) // #f8f9fd

    &.ag-row-hover,
    &.ag-row-focus,
    &.ag-row-selected
        background: #d4dfee

.ag-icon-checkbox-unchecked,
.ag-icon-checkbox-checked
    background: none !important
    @extend %checkboxStyle

.ag-icon-checkbox-checked
    &:before
        border-color: $uni-color-c2a !important
        background: linear-gradient(to top, $uni-color-c2a 0, lighten($uni-color-c2a, 10%) 100%) !important

    &:after
        opacity: 1 !important
        border-color: $uni-color-negative !important

.header-checkbox
    @extend %checkboxStyle
    &.checked
        &:before
            border-color: $uni-color-c2a !important
            background: linear-gradient(to top, $uni-color-c2a 0, lighten($uni-color-c2a, 10%) 100%) !important

        &:after
            opacity: 1 !important
            border-color: $uni-color-negative !important

%checkboxStyle
    width: 1rem !important
    height: 34px !important
    margin-top: 1px
    box-sizing: border-box
    user-select: none
    box-sizing: border-box
    position: relative
    white-space: nowrap
    display: block
    overflow: hidden
    text-overflow: ellipsis

    &:focus
        outline: none
        &:before
            background: $uni-color-scale9
        &:after
            border-color: $uni-color-negative

    &:before
        display: block
        content: ''
        border: pxToRem(1) solid $uni-color-scale7
        height: 1rem
        width: 1rem
        margin-left: .3rem
        box-sizing: border-box
        position: absolute
        top: .5rem
        left: -.3rem
        border-radius: .2rem
        background: #fff

    &:after
        display: block
        content: ''
        border-right: .2rem solid transparent
        border-bottom: .2rem solid transparent
        position: absolute
        top: .52rem
        left: .3rem
        height: .5rem
        width: .2rem
        transform: rotate(45deg)

    &:hover,
    &:focus
        &:before
            background: $uni-color-scale9

        &:after
            border-color: $uni-color-negative

// Sum row
.ag-floating-bottom
    border: none

    .ag-row, .ag-row-hover, .ag-row-focus
        background: none
        border: none !important
    .row-menu
        display: none
    .ag-cell
        border: none
        font-weight: 600

// Tooltip
.table-tooltip
    display: block
    width: 2rem
    height: 100%
    float: right

    &.left
        float: left

    &.good
        background: $uni-color-good unicon-info($uni-color-negative) no-repeat center
    &.warn
        background: $uni-color-warn unicon-info($uni-color-negative) no-repeat center
    &.bad
        background: unicon-warning($uni-color-bad) no-repeat center
        background-size: 1rem

    &.good, &.warn
        background-size: .4rem
        border-radius: 50%
        height: 1.1rem
        width: 1.1rem
        margin: .45rem 0

// EDITOR
ag-grid-wrapper
    .table-editor
        position: absolute
        z-index: #{map-get($zindex, toolbar) - 1}

        input, button
            height: 35px !important
            width: 100%
