// What color should our placeholder text be?
$uni-placeholder-text-color: $uni-color-scale5

$input-height: 2.5rem

// This helper mixin provide color variants for error,
// warning and success states of our inputs
@mixin uniTextInputVariants($color)
    border-color: $color
    background-color: transparentize($color, .9)

    &:focus
        border-color: $color
        box-shadow: 0 0 pxToRem(5) transparentize($color, .5)

    &[disabled]
        background-color: transparentize($uni-color-scale9, .4)

// Styling all our text-based inputs. Should you need to style something as a
// text input, you should probably consider either putting it in here, or
// @extend input[type=text].
input[type=email],
input[type=number],
input[type=password],
input[type=search],
input[type=tel],
input[type=text],
input[type=url],
input[type=color],
input[type=date],
input[type=datetime],
input[type=datetime-local],
input[type=month],
input[type=time],
input[type=week],
select,
textarea
    display: inline-block
    height: $input-height
    padding: 3px 8px
    background-color: #fff
    border: 1px solid var(--border-color)
    border-radius: 3px
    transition: box-shadow .3s ease
    overflow: hidden
    text-overflow: ellipsis
    box-sizing: border-box
    font-size: 15px

    &[disabled],
    &[readonly]
        background-color: mix($uni-color-scale9, $uni-color-negative, 50%)
        cursor: normal

    &[required]
        box-shadow: 0 0 0 pxToRem(1) $uni-color-negative, 0 0 0 pxToRem(2) $uni-color-scale9

    &::-webkit-input-placeholder
        color: $uni-placeholder-text-color

    &:-moz-placeholder
        color: $uni-placeholder-text-color

    &::-moz-placeholder
        color: $uni-placeholder-text-color

    &:-ms-input-placeholder
        color: $uni-placeholder-text-color

    &:placeholder
        color: $uni-placeholder-text-color

    &.success
        @include uniTextInputVariants($uni-color-good)

    &.warning
        @include uniTextInputVariants($uni-color-warn)

    &.error, &.invalid, &.ng-touched.ng-invalid
        @include uniTextInputVariants($uni-color-bad)

// Some extra styling for search inputs
input[type=search]
    background-image: unicon-search($uni-color-scale8)
    background-repeat: no-repeat
    background-position: center right .5rem
    background-size: 1rem
    padding-right: 2rem

select
    padding: 0 4px

textarea
    width: 100%
    min-height: 5rem
    resize: vertical
    &[readonly]
        font-weight: 400
        border: none
        background: mix($uni-color-negative, $uni-color-scale9, 50%)

.input-with-button
    display: inline-flex
    height: $input-height
    input
        height: 100%
        width: 100%
        padding-right: 40px

    // REVISIT: can remove !important when redesign-buttons are gone
    button
        margin: 0 0 0 -40px
        height: 100%
        width: 40px
        padding: 0
        background-color: unset
        color: var(--text-color)
        border: none

        &:focus
            color: #8c96a9

        i.material-icons
            vertical-align: middle
            font-size: 22px
            color: unset