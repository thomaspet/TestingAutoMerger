<section role="dialog" class="uni-modal">
    <header>Hent fil fra innboks</header>

    <article class="scrollable">
        <span *ngIf="files?.length === 0">Ingen filer i innboks</span>

        <section *ngIf="files?.length" class="flex-container">
            <ag-grid-wrapper
                [resource]="files"
                [config]="tableConfig"
                (rowSelectionChange)="onFileSelected($event)">
            </ag-grid-wrapper>

            <section class="bill-preview">
                <section *ngIf="busy" class="bill-preview-spinner">
                    <section class="spinner-container">
                        <mat-spinner [diameter]="40" class="c2a" ></mat-spinner>
                        <section class="spinner-text">Laster dokument</section>
                    </section>
                </section>

                <uni-image *ngIf="selectedFile"
                    [singleImage]="true"
                    [readonly]="true"
                    [uploadWithoutEntity]="true"
                    [fileIDs]="[selectedFile.ID]"
                    (fileListReady)="onFileListReady($event)">
                </uni-image>
            </section>
        </section>
    </article>

    <footer>
        <button class="secondary" (click)="onClose.emit()">Avbryt</button>
        <button
            (click)="onClose.emit(selectedFile)"
            [disabled]="busy"
            class="c2a"
            style="min-width: 8rem">

            Velg fil
        </button>
    </footer>
</section>