<section *ngIf="config.model" class="uni-multivalue-ng">{{label}}
    
    <input type="text" [(ngModel)]="config.model[config.field][index][config.kOptions.dataTextField]" [disabled]="config.editor">
    <button class="uni-multivalue-moreBtn" (click)="addOrDropdown()">Ny</button>

    <ul class="uni-multivalue-values" [class.-is-active]="activeMultival">
        <template ngFor #row [ngForOf]="config.model[config.field]" #i = "index">
            <li *ngIf="!row.Deleted" [class.-is-main]="index == i">

                <input *ngIf="!indelete(i) && editindex == i" #editinput class="uni-multivalue_edit" [(ngModel)]="row[config.kOptions.dataTextField]" (blur)="save(row, $event)" (keyup.enter)="save(row, $event)" type="text">
                <div *ngIf="!indelete(i) && editindex != i">
                    <span class="uni-multivalue-value" (click)="setAsDefault(row, i)">{{row[config.kOptions.dataTextField]}}</span>
                    <button class="uni-multivalue_edit_action-delete" (click)="del(row, i, $event)">Delete</button>
                    <button class="setEditBtn" (click)="edit(i, $event)">Rediger {{row[config.kOptions.dataTextField]}}</button>                    
                </div>
                <p *ngIf="indelete(i)" class="uni-multivalue_deleted">
                    Slettet &lsquo;{{row.value}}&rsquo;. (<a (click)="putBack(row, i, $event)">Angre</a>)
                </p>
                           
            </li>             
        </template>
        <li><button class="uni-multivalue-addBtn" (click)="addValue($event)">Legg til&hellip;</button></li>
    </ul>
    
    <uni-component-loader></uni-component-loader>

    <small *ngIf="successMessage" class="good">Lagret.</small>

</section>