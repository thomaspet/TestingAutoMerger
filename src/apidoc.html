<!DOCTYPE html>
<html>
<head>
    <title>API Docs</title>
    <!-- needed for mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <script src="https://rebilly.github.io/ReDoc/releases/latest/redoc.min.js"></script>

    <redoc></redoc>
    <script>
        const token = localStorage.getItem('jwt');
        const activeCompany = localStorage.getItem('activeCompany');

        let companyKey;
        if (activeCompany) {
            companyKey = JSON.parse(activeCompany).Key;
        }

        if (token && companyKey) {
            const url = `https://devapi-unieconomy.azurewebsites.net/api/metadataproxy?Authorization=Bearer ${token}&CompanyKey=${companyKey}`;
            Redoc.init(encodeURI(url));
        }
    </script>
</body>
</html>