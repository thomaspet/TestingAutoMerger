[
    {
        "Name": "Kontakter",
        "Code": "contact_list",
        "Type": "Table",
        "IsTopLevelTicker": false,
        "Group": "Salg",
        "Model": "Contact",
        "Expand": "",
        "Columns": [
            {
                "Header": "Navn",
                "Field": "Info.Name",
                "Width": "250px",
                "Type": "link"
            },
            {
                "Header": "Rolle",
                "Field": "Role"
            },
            {
                "Header": "Telefon",
                "Field": "Info.DefaultPhone.Number"
            },
            {
                "Header": "E-post",
                "Field": "Info.DefaultEmail.EmailAddress",
                "Type": "mailto"
            }
        ],
        "ParentFilter": {
            "Field": "ParentBusinessRelationID",
            "Operator": "eq",
            "Value": "BusinessRelationID"
        },
        "Actions": [
            {
                "Name": "Ny kontakt",
                "Code": "new_contact",
                "ExecuteWithoutSelection": true,
                "Type": "new"
            },
            {
                "Name": "Vis kontakt",
                "Code": "open_contact",
                "Type": "details",
                "DisplayInContextMenu": true,
                "DisplayInActionBar": true
            },
            {
                "Name": "Eksporter",
                "Code": "export_contacts",
                "Type": "export",
                "ExecuteWithMultipleSelections": true,
                "ExecuteWithoutSelection": true
            }
        ]
    },
    {
        "Name": "Utsendelse",
        "Code": "sharings_list",
        "Type": "Table",
        "IsTopLevelTicker": true,
        "Group": "Utsendelse",
        "Model": "Sharing",
        "Expand": "",
        "Joins": "Sharing.CreatedBy eq User.GlobalIdentity and Sharing.ID eq #(model=Sharing&$select=Entityid as Entityid,Entitytype as Entitytype,max(id) as lastid,count(id) as numberofSharings&$groupby=entityid,entitytype).lastid as subq",
        "OrderBy": "ID DESC",
        "Filter": "subq.lastid gt 0",
        "Columns": [
            {
                "Header": "Dato",
                "Field": "CreatedAt",
                "Width": "130px",
                "Type": "datetime",
                "Format": "DateWithTime"
            },
            {
                "Field": "EntityDisplayValue",
                "Header": "Kilde",
                "Type": "link",
                "LinkNavigationProperty": "EntityID",
                "FilterOperator": "contains",
                "ExternalModel": "EntityType"
            },
            {
                "Header": "Sendt via",
                "Field": "Type",
                "Width": "150px",
                "FilterOperator": "contains"
            },
            {
                "Header": "Sendt av",
                "Field": "User.DisplayName",
                "Width": "150px",
                "FilterOperator": "contains"
            },
            {
                "Header": "Antall sendinger",
                "Field": "subq.numberofSharings",
                "Alias": "numberofSharings",
                "Width": "150px"
            },
            {
                "Header": "Tittel",
                "Field": "Subject",
                "DefaultHidden": true,
                "FilterOperator": "contains"
            },
            {
                "Header": "Fra",
                "Field": "From",
                "DefaultHidden": true,
                "FilterOperator": "contains"
            },
            {
                "Header": "Til",
                "Field": "To",
                "Width": "15rem",
                "FilterOperator": "contains"
            },
            {
                "Header": "Melding",
                "Field": "ExternalMessage",
                "FilterOperator": "contains"
            },
            {
                "Header": "Ekstern refereanse",
                "Field": "ExternalReference",
                "DefaultHidden": true,
                "FilterOperator": "contains"
            },
            {
                "Header": "Forløp",
                "Field": "StatusCode",
                "Alias": "ShareStatus",
                "Format": "SharingStatus",
                "Width": "120px"
            },
            {
                "Header": "Sendes",
                "Field": "DistributeAt",
                "Width": "8rem",
                "Type": "datetime",
                "Format": "DateWithTime"
            },
            {
                "Header": "Jobb nr.",
                "Field": "JobRunID",
                "Type": "text",
                "DefaultHidden": true,
                "FilterOperator": "eq"
            }
        ],
        "Actions": [
            {
                "Name": "Eksporter",
                "Code": "export_sharings",
                "Type": "export",
                "ExecuteWithMultipleSelections": true,
                "ExecuteWithoutSelection": true
            },
            {
                "Name": "Avbryt",
                "Code": "sharing_cancel",
                "Type": "transition",
                "DisplayInContextMenu": true,
                "DisplayInActionBar": false,
                "Options": {
                    "Transition": "Cancel"
                }
            }
        ],
        "SubTickersCodes": ["sharing_list"],
        "Filters": [
            {
                "Name": "Alle",
                "Code": "all_sharings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": false,
                        "FieldFilters": [{
                                "Field": "StatusCode",
                                "Operator": "ne",
                                "Value": "42001"
                            }
                        ]
                    }
                ]
            },
            {
                "Name": "Mine",
                "Code": "my_sharings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": true,
                        "FieldFilters": [{
                                "Field": "CreatedBy",
                                "Operator": "eq",
                                "Value": ":currentuserid"
                            }
                        ]
                    }
                ]
            },
            {
                "Name": "Pågående",
                "Code": "inprogress_sharings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": true,
                        "FieldFilters": [{
                                "Field": "StatusCode",
                                "Operator": "eq",
                                "Value": "70001"
                            }
                        ]
                    }
                ]
            },
            {
                "Name": "Feilede",
                "Code": "failed_sharings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": true,
                        "FieldFilters": [{
                                "Field": "StatusCode",
                                "Operator": "eq",
                                "Value": "70002"
                            }
                        ]
                    }
                ]
            },
            {
                "Name": "Ferdigbehandlet",
                "Code": "completed_sharings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": true,
                        "FieldFilters": [{
                                "Field": "StatusCode",
                                "Operator": "eq",
                                "Value": "70003"
                            }
                        ]
                    }
                ]
            },
            {
                "Name": "Faktura",
                "Code": "customerinvoice_sharings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": false,
                        "FieldFilters": [{
                                "Field": "EntityType",
                                "Operator": "eq",
                                "Value": "CustomerInvoice"
                            }, {
                                "Field": "EntityType",
                                "Operator": "eq",
                                "Value": "CustomerInvoiceReminder"
                            }
                        ]
                    }
                ]
            },
            {
                "Name": "Lønnsavregning",
                "Code": "payroll_sharingings",
                "UseAllCriterias": true,
                "FilterGroups": [{
                        "UseAllCriterias": true,
                        "FieldFilters": [{
                                "Field": "EntityType",
                                "Operator": "eq",
                                "Value": "PayrollRun"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "Name": "Utsendelse",
        "Code": "invoice_sharing",
        "Type": "Table",
        "IsTopLevelTicker": false,
        "Group": "Salg",
        "Model": "Sharing",
        "Joins": "Sharing.CreatedBy eq User.GlobalIdentity",
        "Filter": "Sharing.EntityType eq 'CustomerInvoice'",
        "OrderBy": "ID DESC",
        "Columns": [
            {
                "DefaultHidden": true,
                "Header": "ID",
                "Field": "ID"
            },
            {
                "Header": "Dato",
                "Field": "CreatedAt",
                "Width": "130px",
                "Type": "datetime",
                "Format": "DateWithTime"
            },
            {
                "Header": "Sendt via",
                "Field": "Type",
                "Alias": "SharingType",
                "Width": "100px"
            },
            {
                "Header": "Sendt av",
                "Field": "User.DisplayName",
                "Width": "150px"
            },
            {
                "Header": "Tittel",
                "Field": "Subject",
                "DefaultHidden": true
            },
            {
                "Header": "Fra",
                "Field": "From",
                "DefaultHidden": true
            },
            {
                "Header": "Til",
                "Field": "To"
            },
            {
                "Header": "Melding",
                "Field": "ExternalMessage"
            },
            {
                "Header": "Ekstern refereanse",
                "Field": "ExternalReference",
                "DefaultHidden": true
            },
            {
                "Header": "Forløp",
                "Field": "StatusCode",
                "Alias": "ShareStatus",
                "Format": "SharingStatus"
            },
            {
                "Header": "Sendes",
                "Field": "DistributeAt",
                "Width": "4rem",
                "Type": "datetime",
                "Format": "DateWithTime",
                "DefaultHidden": true
            },
            {
                "Header": "Jobb nr.",
                "Field": "JobRunID",
                "Type": "text",
                "DefaultHidden": true
            }
        ],
        "ParentFilter": {
            "Field": "EntityID",
            "Operator": "eq",
            "Value": "ID"
        }
    },

    {
        "Name": "Utsendelse",
        "Code": "sharing_list",
        "Type": "Table",
        "IsTopLevelTicker": false,
        "Group": "Salg",
        "Model": "Sharing",
        "Joins": "Sharing.CreatedBy eq User.GlobalIdentity",
        "OrderBy": "ID DESC",
        "Columns": [
            {
                "Header": "Dato",
                "Field": "CreatedAt",
                "Width": "130px",
                "Type": "datetime",
                "Format": "DateWithTime"
            },
            {
                "Header": "Sendt via",
                "Field": "Type",
                "Width": "100px"
            },
            {
                "Header": "Sendt av",
                "Field": "User.DisplayName",
                "Width": "150px"
            },
            {
                "Header": "Tittel",
                "Field": "Subject",
                "DefaultHidden": true
            },
            {
                "Header": "Fra",
                "Field": "From",
                "DefaultHidden": true
            },
            {
                "Header": "Til",
                "Field": "To"
            },
            {
                "Header": "Melding",
                "Field": "ExternalMessage",
                "DefaultHidden": true
            },
            {
                "Header": "Ekstern refereanse",
                "Field": "ExternalReference",
                "DefaultHidden": true
            },
            {
                "Header": "Forløp",
                "Field": "StatusCode",
                "Alias": "ShareStatus",
                "Format": "SharingStatus"
            },
            {
                "Header": "Sendes",
                "Field": "DistributeAt",
                "Width": "4rem",
                "Type": "datetime",
                "Format": "DateWithTime",
                "DefaultHidden": true
            },
            {
                "Header": "Jobb nr.",
                "Field": "JobRunID",
                "Type": "text",
                "DefaultHidden": true
            }
        ],
        "ParentFilter": {
            "Field": "EntityID",
            "Operator": "eq",
            "Value": "EntityID"
        }
    },

    {
        "Name": "Utsendelse",
        "Code": "order_sharing",
        "Type": "Table",
        "IsTopLevelTicker": false,
        "Group": "Salg",
        "Model": "Sharing",
        "Joins": "Sharing.CreatedBy eq User.GlobalIdentity",
        "Filter": "Sharing.EntityType eq 'CustomerOrder'",
        "OrderBy": "ID DESC",
        "Columns": [
            {
                "Header": "Dato",
                "Field": "CreatedAt",
                "Width": "130px",
                "Type": "datetime",
                "Format": "DateWithTime"
            },
            {
                "Header": "Sendt via",
                "Field": "Type",
                "Width": "100px"
            },
            {
                "Header": "Sendt av",
                "Field": "User.DisplayName",
                "Width": "150px"
            },
            {
                "Header": "Tittel",
                "Field": "Subject",
                "DefaultHidden": true
            },
            {
                "Header": "Fra",
                "Field": "From",
                "DefaultHidden": true
            },
            {
                "Header": "Til",
                "Field": "To"
            },
            {
                "Header": "Melding",
                "Field": "ExternalMessage"
            },
            {
                "Header": "Ekstern refereanse",
                "Field": "ExternalReference",
                "DefaultHidden": true
            },
            {
                "Header": "Forløp",
                "Field": "StatusCode",
                "Alias": "ShareStatus",
                "Format": "SharingStatus"
            },
            {
                "Header": "Sendes",
                "Field": "DistributeAt",
                "Width": "4rem",
                "Type": "datetime",
                "Format": "DateWithTime",
                "DefaultHidden": true
            },
            {
                "Header": "Jobb nr.",
                "Field": "JobRunID",
                "Type": "text",
                "DefaultHidden": true
            }
        ],
        "ParentFilter": {
            "Field": "EntityID",
            "Operator": "eq",
            "Value": "ID"
        }
    },
    {
        "Name": "Utsendelse",
        "Code": "quote_sharing",
        "Type": "Table",
        "IsTopLevelTicker": false,
        "Group": "Salg",
        "Model": "Sharing",
        "Joins": "Sharing.CreatedBy eq User.GlobalIdentity",
        "Filter": "Sharing.EntityType eq 'CustomerQuote'",
        "OrderBy": "ID DESC",
        "Columns": [
            {
                "Header": "Dato",
                "Field": "CreatedAt",
                "Width": "130px",
                "Type": "datetime",
                "Format": "DateWithTime"
            },
            {
                "Header": "Sendt via",
                "Field": "Type",
                "Width": "100px"
            },
            {
                "Header": "Sendt av",
                "Field": "User.DisplayName",
                "Width": "150px"
            },
            {
                "Header": "Tittel",
                "Field": "Subject",
                "DefaultHidden": true
            },
            {
                "Header": "Fra",
                "Field": "From",
                "DefaultHidden": true
            },
            {
                "Header": "Til",
                "Field": "To"
            },
            {
                "Header": "Melding",
                "Field": "ExternalMessage"
            },
            {
                "Header": "Ekstern refereanse",
                "Field": "ExternalReference",
                "DefaultHidden": true
            },
            {
                "Header": "Forløp",
                "Field": "StatusCode",
                "Alias": "ShareStatus",
                "Format": "SharingStatus"
            },
            {
                "Header": "Sendes",
                "Field": "DistributeAt",
                "Width": "4rem",
                "Type": "datetime",
                "Format": "DateWithTime",
                "DefaultHidden": true
            },
            {
                "Header": "Jobb nr.",
                "Field": "JobRunID",
                "Type": "text",
                "DefaultHidden": true
            }
        ],
        "ParentFilter": {
            "Field": "EntityID",
            "Operator": "eq",
            "Value": "ID"
        }
    }
]
