
<uni-toolbar [config]="{ title: 'Regnskapsinnstillinger' }" [saveactions]="saveActions"></uni-toolbar>

<section class="container-fluid uni-grid-container">

    <uni-tabs [tabs]="tabs" [(activeIndex)]="activeIndex" (tabClick)="updateTabAndUrl()"></uni-tabs>

    <ng-container *ngIf="activeIndex === 0">
        <section class="row form-row">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> {{ 'SETTINGS.ACCOUNTS' | translate }} </h1>
                    <p> {{ 'SETTINGS.ACCOUNTS_INFOTEXT' | translate }}  </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            class="two-column-layout"
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="fields$"
                            [model]="companySettings$"
                            (changeEvent)="isDirty = true">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>

        <section class="row form-row">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> {{ 'SETTINGS.PERIOD_AND_MVA' | translate }} </h1>
                    <p> {{ 'SETTINGS.PERIODE_AND_VAT_INFOTEXT' | translate }}  </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            class="two-column-layout"
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="fieldsVat$"
                            [model]="companySettings$"
                            (changeEvent)="isDirty = true">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>

        <section class="row form-row last">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> {{ 'SETTINGS.CURRENCY' | translate }} </h1>
                    <p> {{ 'SETTINGS.CURRENCY_INFOTEXT' | translate }}  </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            class="two-column-layout"
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="fieldsCurrency$"
                            [model]="companySettings$"
                            (changeEvent)="isDirty = true">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>
    </ng-container>

    <!-- VAT SETTINGS -->
    <vattype-settings-list [hidden]="activeIndex !== 1"></vattype-settings-list>

    <!-- VAT DEDUCTION SETTINGS -->
    <vat-deduction-settings [hidden]="activeIndex !== 2"></vat-deduction-settings>

</section>
