<h3>Legg til bruker</h3>
<form class="invite_users_form" [formGroup]="newUserForm" (ngSubmit)="sendInvite()" #f="ngForm">
    <small class="validation error" *ngIf="errorMessage.length">{{errorMessage}}</small>
    <label>
        Epost
        <input type="email" formControlName="Email">
    </label>
    <button [attr.aria-busy]="busy" [disabled]="!f.form.valid || busy" type="submit" class="c2a">Inviter</button>
</form>

<h3>Brukere</h3>
<section class="splitview">
    <nav class ="splitview_list">
        <uni-table *ngIf="users?.length"
                [config]="userTableConfig"
                [resource]="users"
                (rowSelected)="onUserSelected($event)">
        </uni-table>
    </nav>

    <main class= "splitview_detail">
        <uni-form
            [config]="formConfig$"
            [fields]="formFields$"
            [model]="formModel$"
            (changeEvent)="onFormChange($event)">
        </uni-form>

        <uni-role-selector *ngIf="roles"
            [role]="roles"
            (roleSelected)="onRoleAdded($event)">
        </uni-role-selector>

       <uni-table *ngIf="userRoles?.length"
                  [config]="roleTableConfig"
                  [resource]="userRoles"
                  (rowDeleted)="onRoleDeleted($event)">
       </uni-table>
    </main>
</section>

<uni-confirm-modal></uni-confirm-modal>