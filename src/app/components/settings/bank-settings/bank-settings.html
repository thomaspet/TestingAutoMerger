<uni-toolbar [config]="toolbarconfig"></uni-toolbar>

<section class="container-fluid uni-grid-container">

    <uni-tabs
        [tabs]="tabs"
        [(activeIndex)]="activeIndex"
        (tabClick)="updateTabAndUrl()">
    </uni-tabs>

     <!-- BANKKONTOER -->
    <ng-container *ngIf="activeIndex === 0 && companySettings">
        <bank-setttings-accountlist
            [(companySettings)]="companySettings"
            [agreements]="agreements"
            (changeAccount)="setAsDirty()"
            (orderedIntegration)="onOrderedIntegrationChange()">
        </bank-setttings-accountlist>
    </ng-container>

    <ng-container *ngIf="activeIndex === 1">
        <!-- RGB -->
        <section class="row from-row" *ngIf="isPreApprovedPaymentsServiceProvider">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> Regnskapsgodkjente betalinger  </h1>
                    <p>
                        Ved 책 aktivere regnskapsgodkjente betalinger kan du godkjenne betalingene direkte i regnskapssystemet,
                        du vil da slippe 책 logge inn i nettbanken for 책 godkjenne betalingen.
                        For at banken skal kunne kjenne til hvilken bruker som har godkjent betalingen og autorisere betalingen,
                        m책 bruker identifisere seg med BankID ved bruk av regnskapsgodkjente betalinger.
                    </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="RGBFields$"
                            [model]="RGB$"
                            (changeEvent)="setRGBAsDirty()">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>

        <!-- BANKINNSTILLINGER -->
        <section class="row form-row">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> {{ 'SETTINGS.BANK' | translate }}  </h1>
                    <p> {{ 'SETTINGS.BANK_INFOTEXT' | translate }} </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="bankFields$"
                            [model]="companySettings$"
                            (changeEvent)="setAsDirty()">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>

        <!-- AUTOBANK -->
        <section class="row form-row" *ngIf="!isExt02Environment">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> {{ 'SETTINGS.AUTO_BANK' | translate }} </h1>
                    <p> {{ 'SETTINGS.AUTO_BANK_INFOTEXT' | translate }} </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="autobankFields$"
                            [model]="companySettings$"
                            (changeEvent)="onAutobankFormChange($event)">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>

        <!-- REMITTERING -->
        <section class="row form-row last" *ngIf="showRemAccounts">
            <section class="col-md-4">
                <section class="form-info-section">
                    <h1> {{ 'SETTINGS.REM_ACCOUNTS' | translate }} </h1>
                    <p> {{ 'SETTINGS.REM_ACCOUNTS_INFOTEXT' | translate }} </p>
                </section>
            </section>

            <section class="col-md-8">
                <section class="uni-card">
                    <section class="uni-card-content">
                        <uni-form
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="remitteringFields$"
                            [model]="companySettings$"
                            (changeEvent)="setAsDirty()">
                        </uni-form>

                        <uni-form
                            [config]="{showLabelAbove: true, autoFocus: true}"
                            [fields]="remitteringFields$2"
                            [model]="companySalary$"
                            (changeEvent)="setCompanySalaryAsDirty()">
                        </uni-form>
                    </section>
                </section>
            </section>
        </section>
    </ng-container>

</section>
