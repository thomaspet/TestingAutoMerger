import {Component, ChangeDetectionStrategy, ChangeDetectorRef, AfterViewInit} from '@angular/core';
import {WidgetDataService} from '../widgetDataService';
import {IUniWidget} from '../uniWidget';
import {NumberFormat} from '@app/services/services';
import {Router} from '@angular/router';

@Component({
    selector: 'uni-info-tile-widget',
    template: `
        <div class="info_tile_widget" [ngClass]="widget.config.class" (click)="onClickNavigate()" title="{{ widget.description }}">
            <div class="text-section">
                <div class="header">{{ widget.config.title}}</div>
            </div>

            <section class="icon-wrapper">
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.3844 11.1446C2.48439 11.0733 2.59371 11.0381 2.70187 11.038C2.88314 11.039 3.05888 11.1372 3.15291 11.314L3.15287 11.314L3.15389 11.3157L3.29898 11.5644C3.43009 11.7892 3.37394 12.0912 3.16653 12.2615C2.06067 13.0986 1.39264 14.398 1.39264 15.8012V19.6904V19.742H1.44424H13.4142H13.4658V19.6904V15.8012C13.4658 14.398 12.7978 13.0996 11.6919 12.2615C11.4852 12.0918 11.4272 11.807 11.5595 11.5606L11.7045 11.3127L11.7046 11.3127L11.7055 11.3109C11.8556 11.0285 12.2305 10.9528 12.4735 11.1407L12.4742 11.1412C13.9268 12.2286 14.8073 13.9325 14.8073 15.7785V19.9607C14.8073 20.5755 14.314 21.0896 13.7042 21.0896H1.17698C0.56528 21.0896 0.0515947 20.5933 0.0515947 19.9607V15.7816C0.0515947 13.9564 0.932178 12.232 2.3844 11.1446ZM6.92314 11.7076L6.92316 11.7076L6.92327 11.7059C6.94186 11.4263 7.1651 11.2154 7.51322 11.2154H7.75881C8.02094 11.2154 8.26857 11.4435 8.28727 11.7062L8.28725 11.7062L8.28739 11.7076L8.76206 16.509L8.76201 16.509L8.76232 16.5111C8.78068 16.6406 8.74505 16.7517 8.66751 16.8691C8.6674 16.8693 8.66729 16.8695 8.66718 16.8696L8.04976 17.7567C8.04959 17.7569 8.04942 17.7571 8.04926 17.7573C7.82114 18.0616 7.36814 18.0583 7.16263 17.7584L7.16241 17.7581L6.54397 16.8696C6.54385 16.8695 6.54374 16.8693 6.54362 16.8691C6.46609 16.7517 6.43047 16.6405 6.44887 16.5112L6.44909 16.509L6.92314 11.7076ZM3.35365 4.62123C3.35365 2.37265 5.16867 0.554952 7.41023 0.554952H7.47194C9.71346 0.554952 11.5252 2.37259 11.5252 4.62123V6.01109C11.5252 8.25973 9.71346 10.0774 7.47194 10.0774H7.41023C5.16867 10.0774 3.35365 8.25967 3.35365 6.01109V4.62123ZM7.53282 1.89961H7.47194C5.97764 1.89961 4.75641 3.12311 4.75641 4.62123V6.01109C4.75641 7.50921 5.97764 8.73271 7.47194 8.73271H7.53282C9.02672 8.73271 10.2477 7.5092 10.2477 6.01109V4.62123C10.2477 3.12312 9.02672 1.89961 7.53282 1.89961Z" fill="#002776" stroke="#676767" stroke-width="0.103189"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.7117 3.99852H20.9549V1.75534H18.7117V3.99852ZM20.9717 4.16661H18.6955C18.6118 4.16661 18.5439 4.09874 18.5439 4.01504V1.73889C18.5439 1.65515 18.6118 1.58728 18.6955 1.58728H20.9717C21.0554 1.58728 21.1233 1.65515 21.1233 1.73889V4.01504C21.1233 4.09874 21.0554 4.16661 20.9717 4.16661V4.16661Z" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.0513 2.12349C18.9683 2.12349 18.9008 2.19106 18.9008 2.27409C18.9008 2.35712 18.9683 2.42466 19.0513 2.42466C19.1344 2.42466 19.2019 2.35712 19.2019 2.27409C19.2019 2.19106 19.1344 2.12349 19.0513 2.12349M19.0515 2.53163C18.9095 2.53163 18.7939 2.41611 18.7939 2.2741C18.7939 2.13206 18.9095 2.01654 19.0515 2.01654C19.1935 2.01654 19.309 2.13206 19.309 2.2741C19.309 2.41611 19.1935 2.53163 19.0515 2.53163" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5485 2.12349C19.4655 2.12349 19.3979 2.19106 19.3979 2.27409C19.3979 2.35712 19.4655 2.42466 19.5485 2.42466C19.6316 2.42466 19.6991 2.35712 19.6991 2.27409C19.6991 2.19106 19.6316 2.12349 19.5485 2.12349M19.5486 2.53163C19.4066 2.53163 19.291 2.41611 19.291 2.2741C19.291 2.13206 19.4066 2.01654 19.5486 2.01654C19.6906 2.01654 19.8061 2.13206 19.8061 2.2741C19.8061 2.41611 19.6906 2.53163 19.5486 2.53163" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.2068 2.72633C20.1238 2.72633 20.0563 2.79389 20.0563 2.87692C20.0563 2.95996 20.1238 3.02749 20.2068 3.02749C20.2899 3.02749 20.3574 2.95996 20.3574 2.87692C20.3574 2.79389 20.2899 2.72633 20.2068 2.72633M20.2067 3.13447C20.0647 3.13447 19.9492 3.01895 19.9492 2.87694C19.9492 2.7349 20.0647 2.61938 20.2067 2.61938C20.3488 2.61938 20.4643 2.7349 20.4643 2.87694C20.4643 3.01895 20.3488 3.13447 20.2067 3.13447" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.6756 2.72633C20.5925 2.72633 20.525 2.79389 20.525 2.87692C20.525 2.95996 20.5925 3.02749 20.6756 3.02749C20.7586 3.02749 20.8261 2.95996 20.8261 2.87692C20.8261 2.79389 20.7586 2.72633 20.6756 2.72633M20.6755 3.13447C20.5335 3.13447 20.418 3.01895 20.418 2.87694C20.418 2.7349 20.5335 2.61938 20.6755 2.61938C20.8175 2.61938 20.9331 2.7349 20.9331 2.87694C20.9331 3.01895 20.8175 3.13447 20.6755 3.13447" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.9812 3.32918C19.8982 3.32918 19.8306 3.39671 19.8306 3.47975C19.8306 3.56278 19.8982 3.63031 19.9812 3.63031C20.0643 3.63031 20.1318 3.56278 20.1318 3.47975C20.1318 3.39671 20.0643 3.32918 19.9812 3.32918M19.9812 3.73728C19.8392 3.73728 19.7236 3.62177 19.7236 3.47976C19.7236 3.33774 19.8392 3.22223 19.9812 3.22223C20.1232 3.22223 20.2387 3.33774 20.2387 3.47976C20.2387 3.62177 20.1232 3.73728 19.9812 3.73728" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.484 3.32918C20.401 3.32918 20.3334 3.39671 20.3334 3.47975C20.3334 3.56278 20.401 3.63031 20.484 3.63031C20.567 3.63031 20.6346 3.56278 20.6346 3.47975C20.6346 3.39671 20.567 3.32918 20.484 3.32918M20.4841 3.73728C20.3421 3.73728 20.2266 3.62177 20.2266 3.47976C20.2266 3.33774 20.3421 3.22223 20.4841 3.22223C20.6261 3.22223 20.7416 3.33774 20.7416 3.47976C20.7416 3.62177 20.6261 3.73728 20.4841 3.73728" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.5534 2.12349C20.4703 2.12349 20.4028 2.19106 20.4028 2.27409C20.4028 2.35712 20.4703 2.42466 20.5534 2.42466C20.6364 2.42466 20.7039 2.35712 20.7039 2.27409C20.7039 2.19106 20.6364 2.12349 20.5534 2.12349M20.5535 2.53163C20.4114 2.53163 20.2959 2.41611 20.2959 2.2741C20.2959 2.13206 20.4114 2.01654 20.5535 2.01654C20.6955 2.01654 20.811 2.13206 20.811 2.2741C20.811 2.41611 20.6955 2.53163 20.5535 2.53163" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.3679 2.19006H19.7344C19.746 2.2157 19.7526 2.24412 19.7526 2.2741C19.7526 2.30408 19.746 2.3325 19.7344 2.35814H20.3679C20.3563 2.3325 20.3496 2.30408 20.3496 2.2741C20.3496 2.24412 20.3563 2.2157 20.3679 2.19006" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3636 2.19006H19.2383C19.2499 2.2157 19.2565 2.24412 19.2565 2.2741C19.2565 2.30408 19.2499 2.3325 19.2383 2.35814H19.3636C19.352 2.3325 19.3453 2.30408 19.3453 2.2741C19.3453 2.24412 19.352 2.2157 19.3636 2.19006" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7393 2.19006C20.7509 2.2157 20.7575 2.24412 20.7575 2.2741C20.7575 2.30408 20.7509 2.3325 20.7393 2.35814H21.0386V2.19006H20.7393Z" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.8662 2.19006H18.6279V2.35814H18.8662C18.8546 2.3325 18.848 2.30408 18.848 2.2741C18.848 2.24412 18.8546 2.2157 18.8662 2.19006" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.0213 2.79291H18.6279V2.96099H20.0213C20.0097 2.93535 20.003 2.90696 20.003 2.87695C20.003 2.84697 20.0097 2.81855 20.0213 2.79291" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.4891 2.79291H20.3926C20.4042 2.81855 20.4108 2.84697 20.4108 2.87695C20.4108 2.90696 20.4042 2.93535 20.3926 2.96099H20.4891C20.4775 2.93535 20.4709 2.90696 20.4709 2.87695C20.4709 2.84697 20.4775 2.81855 20.4891 2.79291" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8796 2.87695C20.8796 2.90693 20.8729 2.93532 20.8613 2.96099H21.0395V2.79291H20.8613C20.8729 2.81855 20.8796 2.84694 20.8796 2.87695" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.2979 3.39569H20.166C20.1777 3.42136 20.1843 3.44975 20.1843 3.47973C20.1843 3.50974 20.1777 3.53813 20.166 3.56377H20.2979C20.2863 3.53813 20.2796 3.50974 20.2796 3.47973C20.2796 3.44975 20.2863 3.42136 20.2979 3.39569" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.7955 3.39569H19.2383C19.2499 3.42136 19.2566 3.44975 19.2566 3.47973C19.2566 3.50974 19.2499 3.53813 19.2383 3.56377H19.7955C19.7839 3.53813 19.7772 3.50974 19.7772 3.47973C19.7772 3.44975 19.7839 3.42136 19.7955 3.39569" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.6882 3.47973C20.6882 3.50971 20.6816 3.5381 20.67 3.56377H21.039V3.39569H20.6699C20.6816 3.42133 20.6882 3.44972 20.6882 3.47973" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.8662 3.39569H18.6279V3.56377H18.8662C18.8546 3.53813 18.848 3.50974 18.848 3.47973C18.848 3.44975 18.8546 3.42136 18.8662 3.39569" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.0513 3.32918C18.9683 3.32918 18.9008 3.39671 18.9008 3.47975C18.9008 3.56278 18.9683 3.63031 19.0513 3.63031C19.1344 3.63031 19.2019 3.56278 19.2019 3.47975C19.2019 3.39671 19.1344 3.32918 19.0513 3.32918M19.0515 3.73728C18.9095 3.73728 18.7939 3.62177 18.7939 3.47976C18.7939 3.33774 18.9095 3.22223 19.0515 3.22223C19.1935 3.22223 19.309 3.33774 19.309 3.47976C19.309 3.62177 19.1935 3.73728 19.0515 3.73728" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.6975 5.09249H22.3915V0.694427H14.6975V5.09249ZM23.0858 5.78694H14.0029V0.562394C14.0029 0.251783 14.2547 0 14.5653 0H22.5233C22.834 0 23.0858 0.251783 23.0858 0.562394V5.78694Z" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M23.4381 7.0471H13.6504C13.3398 7.0471 13.0879 6.79531 13.0879 6.4847V6.35266H24.0005V6.4847C24.0005 6.79531 23.7487 7.0471 23.4381 7.0471" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9648 2.91088C15.9648 2.87499 15.9834 2.85504 16.0193 2.85504H16.0805C16.1164 2.85504 16.135 2.87499 16.135 2.91088V3.23923H16.2586L16.458 2.89359C16.4726 2.86702 16.4926 2.85504 16.5232 2.85504H16.5883C16.6322 2.85504 16.6481 2.8843 16.6268 2.92152L16.3982 3.30435V3.30702L16.6441 3.7324C16.6667 3.77095 16.6494 3.79888 16.6056 3.79888H16.5325C16.5019 3.79888 16.482 3.7869 16.4673 3.76033L16.2586 3.38678H16.135V3.74304C16.135 3.78028 16.1164 3.79888 16.0805 3.79888H16.0193C15.9834 3.79888 15.9648 3.78028 15.9648 3.74304V2.91088Z" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0911 3.29773C17.1828 3.29773 17.24 3.24059 17.24 3.14751C17.24 3.0877 17.2174 3.03985 17.1655 3.01856C17.1429 3.00794 17.1137 3.00261 17.0632 3.00261H16.9369V3.29773H17.0911ZM16.7666 2.91088C16.7666 2.87499 16.7852 2.85504 16.8211 2.85504H17.0763C17.1694 2.85504 17.2159 2.86302 17.2558 2.8803C17.3515 2.92016 17.414 3.01057 17.414 3.13821C17.414 3.24985 17.3555 3.35621 17.2572 3.39609V3.39873C17.2572 3.39873 17.2691 3.41335 17.2877 3.44792L17.4432 3.7324C17.4658 3.77095 17.4486 3.79888 17.4047 3.79888H17.3329C17.3023 3.79888 17.2824 3.7869 17.2678 3.76033L17.1016 3.44659H16.9367V3.74304C16.9367 3.78028 16.9181 3.79888 16.8822 3.79888H16.8211C16.7852 3.79888 16.7666 3.78028 16.7666 3.74304V2.91088Z" fill="#007B00"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.8214 2.42777C16.8477 2.42777 16.8696 2.40757 16.8696 2.38126C16.8696 2.35672 16.8477 2.33569 16.8214 2.33569C16.7951 2.33569 16.7731 2.35672 16.7731 2.38126C16.7731 2.40757 16.7951 2.42777 16.8214 2.42777V2.42777ZM16.8215 2.23045C16.9092 2.23045 16.9802 2.29969 16.9802 2.38214C16.9802 2.46636 16.9092 2.533 16.8215 2.533C16.7329 2.533 16.6627 2.46636 16.6627 2.38214C16.6627 2.29969 16.7329 2.23045 16.8215 2.23045V2.23045ZM16.4952 2.03575C16.4952 2.0112 16.4732 1.99013 16.4469 1.99013C16.4206 1.99013 16.3987 2.0112 16.3987 2.03575C16.3987 2.06208 16.4206 2.0822 16.4469 2.0822C16.4732 2.0822 16.4952 2.06208 16.4952 2.03575V2.03575ZM16.7854 1.92437C16.8003 1.9042 16.8179 1.89542 16.8442 1.89542H16.8661C16.9073 1.89542 16.9205 1.92173 16.895 1.95418L16.4784 2.49354C16.4635 2.5137 16.446 2.52251 16.4197 2.52251H16.3978C16.3565 2.52251 16.3434 2.49618 16.3688 2.46373L16.7854 1.92437ZM16.2881 2.03663C16.2881 1.95417 16.3583 1.88489 16.4468 1.88489C16.5345 1.88489 16.6055 1.95417 16.6055 2.03663C16.6055 2.12079 16.5345 2.18744 16.4468 2.18744C16.3583 2.18744 16.2881 2.12079 16.2881 2.03663V2.03663Z" fill="#007B00"/>
                </svg>

            </section>
        </div>
    `,
    changeDetection: ChangeDetectionStrategy.OnPush
})

export class UniInfoTileWidget implements AfterViewInit {
    public widget: IUniWidget;

    constructor(
        private widgetDataService: WidgetDataService,
        private router: Router,
        private cdr: ChangeDetectorRef,
        private numberFormatSerivce: NumberFormat
    ) {}

    public ngAfterViewInit() {


    }

    public onClickNavigate() {

        window.open(this.widget.config.externalLink, "_blank");
    }
}
