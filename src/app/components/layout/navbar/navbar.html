<uni-mega-menu *ngIf="navbarService.megaMenuVisible$ | async"></uni-mega-menu>

<section class="navbar">
    <section class="navbar-left">
        <section class="logo-and-hamburger-container">
            <section class="logo-wrapper" routerLink="/">
                <img [src]="logoUrl" alt="logo">
            </section>

            <i *ngIf="hasActiveContract && !deativateFunctions"
                class="material-icons hamburger-toggle"
                role="button"
                (click)="toggleSidebarState()">
                menu
            </i>
        </section>

        <uni-company-dropdown [lockYearSelector]="deativateFunctions"></uni-company-dropdown>

        <section *ngIf="isTestCompany"
            class="template-company-warning"
            matTooltip="Dette er et demoselskap. Ved aktivering av kontrakt må nytt selskap opprettes, og alle data på dette selskapet vil bli slettet">
            Kun for testing
        </section>
    </section>

    <section class="navbar-right">
        <section *ngIf="isDemo && !demoExpired" class="demo-company-notifier" routerLink="/contract-activation">
            {{demoText}}
            <a>Aktiver nå</a>
        </section>

        <section *ngIf="isDemo && demoExpired" class="demo-company-notifier expired">
            Prøveperiode utløpt
        </section>

        <section *ngIf="isTemplateCompany"
            class="template-company-warning"
            matTooltip="Denne klienten er merket som mal. Det vil si at man ved oppretting av nye klienter kan kopiere data og innstillinger fra den. Man bør derfor kun registrere data som skal kopieres til nye klienter.">
            MALKLIENT
        </section>

        <i *ngIf="hasActiveContract && !deativateFunctions"
            (click)="openSearch()"
            role="button"
            class="material-icons navbar-search">
            search
        </i>

        <i *ngIf="hasActiveContract && !deativateFunctions" role="link" class="material-icons bureau-link" routerLink="bureau">
            business
        </i>

        <navbar-create-new *ngIf="hasActiveContract && !deativateFunctions"></navbar-create-new>

        <notifications *ngIf="!deativateFunctions"></notifications>

        <section class="navbar-settings" *ngIf="hasActiveContract && (settingsLinks?.length || adminLinks?.length) && !deativateFunctions">
            <i class="material-icons" #settingsToggle role="button">settings</i>

            <dropdown-menu [trigger]="settingsToggle" minWidth="14rem">
                <ng-template>
                    <ng-container>
                        <section class="settings-dropdown-container">
                            <section *ngIf="settingsLinks?.length" class="settings-links">
                                <span class="dropdown-menu-header settings-header">Innstillinger</span>
                                <a class="dropdown-menu-item"
                                    *ngFor="let link of settingsLinks"
                                    [routerLink]="link.url">
                                    {{link.name | translate}}
                                </a>
                            </section>

                            <section *ngIf="adminLinks?.length" class="admin-links">
                                <span class="dropdown-menu-header settings-header">Admin</span>
                                <a class="dropdown-menu-item"
                                    *ngFor="let link of adminLinks"
                                    [routerLink]="link.url">
                                    {{link.name | translate}}
                                </a>
                            </section>
                        </section>

                    </ng-container>
                </ng-template>
            </dropdown-menu>
        </section>

        <navbar-user-dropdown></navbar-user-dropdown>

        <uni-tabstrip-help *ngIf="!deativateFunctions"></uni-tabstrip-help>
    </section>

</section>

<section *ngIf="hasActiveContract && !deativateFunctions" class="tab-strip" [ngClass]="'sidebar-' + sidebarState">
    <uni-tabstrip></uni-tabstrip>

</section>