<uni-toolbar [config]="toolbarconfig"></uni-toolbar>

<section class="application">

    <section>
        En jobb er en handling som systemet kan kjøre på dine vegne, enten automatisk på et gitt tidspunkt, eller når noe skjer i systemet.
        <br/>
        Dokumentasjon for hvordan du skriver en jobbkonfigurasjon finner du i vårt API-senter,
        eller du kan ta kontakt med en av våre konsulenter,
        så kan vi hjelpe med oppsett av jobber skreddesydd for din bedrift.
    </section>

    <button class="c2a start-job-button" (click)="startJob()">Kjør jobb nå</button>

    <section class="new-new-schedule">
        <h2>Intervallbasert kjøring</h2>

        <label>Hver</label>

        <input type="tel"
            [(ngModel)]="newSchedule.period"
            class="schedule-period-input"
        />

        <uni-select
            [config]="scheduleTimeUnitSelectConfig"
            [items]="scheduleTimeUnits"
            (valueChange)="onNewScheduleTimeUnitChanged($event)">
        </uni-select>

        <button class="good add-schedule-button"
            (click)="addNewSchedule()"
            [disabled]="!isNumber(newSchedule?.period) || !newSchedule?.unit">
            Legg til intervall
        </button>
    </section>

    <ul class="new-schedule-list">
        <li *ngFor="let schedule of schedules">
            Kjør hver {{schedule.period}} {{getTimeUnitName(schedule)}}
            <i class="material-icons" (click)="deleteSchedule(schedule.id)">
                delete
            </i>
        </li>
    </ul>
</section>
