<uni-toolbar
    *ngIf="config && !config.modalMode"
    [config]="toolbarconfig"
    [saveactions]="saveactions">
</uni-toolbar>

<article [ngClass]="{'modal-content': config.modalMode, 'application': !config.modalMode}">
    <section *ngIf="config && !config.modalMode && searchConfig">
        <uni-search
            class="account-search"
            [config]="searchConfig"
            (changeEvent)="onFilterAccountChange($event)">
        </uni-search>
    </section>

    <section class="uni-container">
        <h2 class="account-details-report-header">
            Detaljer for konto {{config.accountNumber}} - {{config.accountName}}
        </h2>

        <distribution-period-report-part
            [accountIDs]="accountIDs"
            [subaccountIDs]="subAccountIDs"
            [accountYear1]="(periodFilter1$ | async).year - 1"
            [accountYear2]="(periodFilter1$ | async).year"
            [showHeader]="false"
            [doTurnAmounts]="doTurnDistributionAmounts$ | async"
            [includeIncomingBalance]="includeIncomingBalanceInDistributionReport$ | async"
            [dimensionType]="config.dimensionType"
            [dimensionId]="config.dimensionId"
            (periodSelected)="periodSelected($event)"
            (yearChange)="onYearSelected($event)">
        </distribution-period-report-part>
    </section>

    <section class="uni-container">
        <h2 class="account-details-report-header">
            Transaksjoner i perioden
            <period-picker class="accountquery_selector"
                [periodFilter]="periodFilter3$.getValue()"
                (periodFilterChanged)="onPeriodFilterChanged($event)">
            </period-picker>
        </h2>

        <ag-grid-wrapper
            class="transquery-grid-font-size"
            [resource]="transactionsLookupFunction"
            [columnSumResolver]="columnSumResolver"
            [config]="uniTableConfigTransactions$ | async"
            (cellClick)="onCellClick($event)">
        </ag-grid-wrapper>
    </section>
</article>