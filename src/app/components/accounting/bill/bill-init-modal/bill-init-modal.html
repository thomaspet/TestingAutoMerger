<section role="dialog" class="uni-modal file-list-modal" [class.preview-mode]="selectedFile">
    <header> {{ 'ACCOUNTING.SUPPLIER_INVOICE.NEW' | translate }} </header>

    <article>
        <section *ngIf="busy" class="modal-spinner">
            <mat-spinner class="c2a"></mat-spinner>
        </section>
        <section class="inbox-container"*ngIf="!busy">
            <section class="inbox" *ngIf="inboxFiles?.length">
                <section class="header">Fra innboks</section>

                <section class="file-list">
                    <section class="no-inbox-items" *ngIf="!inboxFiles?.length">
                        Ingen dokumenter i innboks
                    </section>

                    <ag-grid-wrapper
                        [resource]="inboxFiles"
                        [config]="tableConfig"
                        (rowSelectionChange)="preview($event)">
                    </ag-grid-wrapper>
                </section>
            </section>
            <section class="image-preview">
                <section *ngIf="loadingFiles" class="bill-preview-spinner">
                    <section class="spinner-container">
                        <mat-spinner [diameter]="40" class="c2a" ></mat-spinner>
                        <section class="spinner-text">Laster dokument</section>
                    </section>
                </section>

                <uni-image *ngIf="selectedFile"
                   [singleImage]="true"
                   [readonly]="true"
                   [uploadWithoutEntity]="true"
                   [fileIDs]="[selectedFile.ID]"
                   (fileListReady)="onFileListReady($event)">
                </uni-image>
            </section>
        </section>
    </article>

    <footer class="center">
        <label class="upload">
            <input type="file" (change)="uploadFile($event)" />

            <button class="upload-button tertiary c2a">
                <i class="material-icons">cloud_upload</i>
                Last opp dokument
            </button>
        </label>

        <button class="good" [disabled]="!selectedFile" (click)="onClose.emit(selectedFile.ID)">Velg</button>
        <button class="secondary" (click)="onClose.emit()">Lukk</button>
    </footer>
</section>
