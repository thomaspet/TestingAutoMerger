<section role="dialog" class="uni-modal uni-redesing maybe-default large">
    <header><h1>Viderefakturering</h1></header>
    <article class="reinvoiceContent">
        <form id="reinvoiceFormData">
            <label id="reinvoiceTypeLabel">
                <span>Type viderefakturering</span>
                <uni-tooltip [type]="'info'"
                             [alignment]="'top'"
                             [text]="infoText">
                </uni-tooltip>
            </label>
            <mat-radio-group [value]="reinvoiceType" (change)="onReinvoiceTypeChange($event)">
                <mat-radio-button [value]="0">
                    Kostnadsdeling
                </mat-radio-button>
                <mat-radio-button [value]="1">
                    Viderefakturering, omsetning
                </mat-radio-button>
            </mat-radio-group>
            <p class="totalsum">Totalsum leverand√∏rfaktura: {{ supplierInvoice?.TaxInclusiveAmount | uninumberformat:'money' }} Kr</p>
        </form>
        <uni-information [config]="{ headline: 'Instillinger'}">
            <span>Kostandsdeling:</span>
            <dl>
                <dt>Varenummer</dt>
                <dd>5 - Kostnadsdeling</dd>
            </dl>
            <dl>
                <dt>Hovedbokskonto</dt>
                <dd>1579 - Andre kortsiktige fordringer</dd>
            </dl>
            <span>Viderefakturering:</span>
            <dl>
                <dt>Varenummer</dt>
                <dd>6 - Omsetningsvaren</dd>
            </dl>
            <dl>
                <dt>Hovedbokskonto</dt>
                <dd>3000 - Varesalg</dd>
            </dl>
            <a>Endre instillinger</a>
        </uni-information>
    </article>
    <article>
        <p>Velge kunde(r) som skal viderefaktureres:</p>
        <ag-grid-wrapper *ngIf="reinvoiceType === 0"
            [(resource)]="reinvoicingCustomers"
            [config]="customersTableConfig"
            (rowChange)="onReinvoicingCustomerChange($event)"
        ></ag-grid-wrapper>
        <ag-grid-wrapper *ngIf="reinvoiceType === 1"
             [(resource)]="reinvoicingCustomers"
             [config]="customersTableConfigTurnOver"
             (rowChange)="onReinvoicingCustomerChange($event)"
        ></ag-grid-wrapper>
        <p>Velg vare(r)</p>
        <ag-grid-wrapper
            [resource]="items"
            [config]="itemsTableConfig"
        ></ag-grid-wrapper>
    </article>
    <footer>
        <section role="group" class="comboButton">
            <button class="comboButton_btn good" type="button" (click)="saveactions[0].action()" [attr.aria-busy]="busy" [disabled]="saveactions[0].disabled">{{saveactions[0].label}}</button>
            <button class="comboButton_more good" type="button" (click)="open = !open" aria-owns="saveActionMenu" [attr.aria-expanded]="open">More options</button>
            <ul class="comboButton_moreList" [attr.aria-expanded]="open" role="menu">
                <li *ngFor="let action of saveactions" (click)="action.action()" role="menuitem" [attr.aria-disabled]="action.disabled">{{action.label}}</li>
            </ul>
        </section>
        <button (click)="this.onClose.emit(true)" class="good">Lagre</button>
        <button (click)="this.onClose.emit(false)" class="bad">Avbryt</button>
    </footer>
</section>
