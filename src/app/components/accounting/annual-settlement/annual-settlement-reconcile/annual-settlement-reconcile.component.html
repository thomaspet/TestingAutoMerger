<annual-settlement-reconcile-toolbar-component
    [annualSettlement]="annualSettlement"
></annual-settlement-reconcile-toolbar-component>
<section class="application">
    <section class="uni-card">
        <section class="uni-card-content">
            <section class="row header page-navigation">
                <a href="#/accounting/annual-settlement" class="page-navigation-button">
                    <i class="material-icons">keyboard_backspace</i>
                </a>
                <h5>Avstem balansen</h5>
            </section>
            <section class="custom-table">
                <div class="custom-table-cell header-cell">
                    Konto
                </div>
                <div class="custom-table-cell header-cell">
                    Kontonavn
                </div>
                <div class="custom-table-cell header-cell right-content">
                    Saldo i regnskapet
                </div>
                <div class="custom-table-cell header-cell right-content">
                    Din saldo
                </div>
                <div class="custom-table-cell header-cell center-content">

                </div>
                <div class="custom-table-cell header-cell center-content">
                    Godkjent
                </div>
                <div class="custom-table-cell header-cell center-content">
                    <i class="material-icons-outlined">chat_bubble_outline</i>
                </div>
                <ng-container *ngFor="let account of annualSettlement?.Reconcile?.Accounts; let i = index">
                    <div class="custom-table-cell"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        {{account._AccountNumber}}
                    </div>
                    <div class="custom-table-cell"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        {{account._AccountName}}
                    </div>
                    <div class="custom-table-cell right-content"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        {{account._TotalAmount | uninumberformat:'money'}}
                    </div>
                    <div class="custom-table-cell right-content"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        <input type="text" [(ngModel)]="account.Balance" (blur)="updateBalance(account)"/>
                    </div>
                    <div class="custom-table-cell center-content"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        <button class="saldo-button"
                                [attr.aria-hidden]="account.Balance ===  account._TotalAmount"
                                (click)="updateBalanceFromButton(account)"
                        >
                            {{account._TotalAmount | uninumberformat:'money'}}
                        </button>
                    </div>
                    <div class="custom-table-cell center-content"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        <mat-checkbox [(ngModel)]="account.IsApproved"></mat-checkbox>
                    </div>
                    <div class="custom-table-cell center-content"
                         [class.odd-cell]="(i+1) % 2 === 1"
                         [class.even-cell]="(i+1) % 2 === 0"
                    >
                        <i class="material-icons-outlined"
                           *ngIf="!account.Comment && (account.Balance === 0 || account.Balance === account._TotalAmount)"
                        >
                            chat_bubble_outline
                        </i>
                        <i class="material-icons-outlined"
                           *ngIf="!account.Comment && (account.Balance !== 0 && account.Balance !== account._TotalAmount)"
                        >
                            mark_chat_unread
                        </i>
                        <i class="material-icons-outlined"
                           *ngIf="account.Comment"
                           [attr.title]="account.Comment"
                           (click)="callOpenModalForComment(account)"
                        >
                            mark_chat_read
                        </i>
                    </div>
                </ng-container>
            </section>
        </section>
    </section>
</section>
