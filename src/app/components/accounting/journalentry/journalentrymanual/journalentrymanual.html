<section class="modeswitcher">
    <button *ngIf="journalEntryMode == 'PROFESSIONAL'" (click)="setJournalEntryMode('SIMPLE')">Vis forenklet registrering...</button>
    <button *ngIf="journalEntryMode == 'SIMPLE'" (click)="setJournalEntryMode('PROFESSIONAL')">Vis proff registrering...</button>
</section>

<section [ngClass]="{'journalentry-input-area-full': !journalEntrySettings.AttachmentsVisible, 'journalentry-input-area': journalEntrySettings.AttachmentsVisible}">
    <div class="journalentry-input-components">
        <journal-entry-professional (dataLoaded)="onDataLoaded($event)"
                                    (showImageChanged)="onShowImageChanged($event)"
                                    (showImageForJournalEntry)="onShowImageForJournalEntry($event)"
                                    (columnVisibilityChange)="onColumnVisibilityChange($event)"
                                    [runAsSubComponent]="runAsSubComponent"
                                    [disabled]="disabled"
                                    [mode]="mode"
                                    [supplierInvoice]="supplierInvoice"
                                    [journalEntryID]="journalEntryID"
                                    [doShowImage]="journalEntrySettings.AttachmentsVisible"
                                    [defaultVisibleColumns]="journalEntrySettings.DefaultVisibleFields"
                                    *ngIf="journalEntryMode == 'PROFESSIONAL'">
        </journal-entry-professional>

        <uni-summary [configs]="summary" *ngIf="itemsSummaryData" [attr.aria-busy]="busy"></uni-summary>

        <p *ngIf="validationResult && validationResult.Messages.length > 0">
            <strong class="journalEntry_validation validation error"
                    *ngFor="let message of validationResult.Messages"
                    [ngClass]="{
                    simplemode: journalEntryMode === 'SIMPLE',
                    promode: journalEntryMode != 'SIMPLE',
                    runassubcomponent: runAsSubComponent
                }">
                {{message.Message}}
            </strong>
        </p>

        <journal-entry-simple [supplierInvoice]="supplierInvoice"
                            [journalEntryID]="journalEntryID"
                            [runAsSubComponent]="runAsSubComponent"
                            [mode]="mode"
                            [disabled]="disabled"
                            (dataLoaded)="onDataLoaded($event)"
                            *ngIf="journalEntryMode == 'SIMPLE'">
        </journal-entry-simple>
    </div>
</section>

<section *ngIf="journalEntrySettings && journalEntrySettings.AttachmentsVisible && this.mode !== 1" class="journalentry-image-area">
    <span>
        Vedlegg for bilagsnr {{showImagesForJournalEntryNo ? showImagesForJournalEntryNo : "(nytt bilag)"}}

        <uni-image [uploadWithoutEntity]="'true'" [fileIDs]="currentJournalEntryImages"
                    (fileListReady)="onFileListReady($event)"></uni-image>
    </span>
</section>
