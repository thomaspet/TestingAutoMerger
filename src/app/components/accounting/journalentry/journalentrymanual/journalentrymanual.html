<section *ngIf="!runAsSubComponent" class="journal-entry-manual-header">
    <h2>
        Bilagsregistrering
    </h2>
</section>
<div *ngIf="journalEntryMode == 'PROFFESIONAL'">
    <journal-entry-professional (dataLoaded)="onDataLoaded($event)" [runAsSubComponent]="runAsSubComponent"></journal-entry-professional>
</div>

<dl class="summary journal-entry-manual-summary" *ngIf="itemsSummaryData" [attr.aria-busy]="busy">
    <dt>Sum debet</dt>
    <dd>Kr {{itemsSummaryData.SumDebet | number:'1.2-2'}}</dd>

    <dt>Sum kredit</dt>
    <dd>Kr {{itemsSummaryData.SumCredit | number:'1.2-2'}}</dd>

    <dt>Differanse</dt>
    <dd>Kr {{itemsSummaryData.Differance | number:'1.2-2'}}</dd>

    <dt>Inng.mva</dt>
    <dd>Kr {{itemsSummaryData.IncomingVat | number:'1.2-2'}}</dd>

    <dt>Utg.mva</dt>
    <dd>Kr {{itemsSummaryData.OutgoingVat | number:'1.2-2'}}</dd>

</dl>

<div *ngIf="journalEntryMode == 'SIMPLE'">
    <journal-entry-simple [supplierInvoice]="supplierInvoice" [runAsSubComponent]="runAsSubComponent" [hideSameOrNew]="hideSameOrNew" (dataLoaded)="onDataLoaded($event)"></journal-entry-simple>
</div>

<section class="journal-entry-validation" *ngIf="validationResult" [ngClass]="{simplemode: journalEntryMode == 'SIMPLE', promode: journalEntryMode != 'SIMPLE', runassubcomponent: runAsSubComponent}">
    <h3 *ngIf="validationResult.Messages.length == 0">
        Ingen valideringsfeil!
    </h3>
    <h3 *ngIf="validationResult.Messages.length > 0">
        Feil i validering:
    </h3>
    <p *ngFor="let message of validationResult.Messages">
        {{message.Message}}
    </p>
</section>
<section class="journal-entry-helper" [ngClass]="{simplemode: journalEntryMode == 'SIMPLE', promode: journalEntryMode != 'SIMPLE', runassubcomponent: runAsSubComponent}">
    <h3>
        Tips
    </h3>
    <p>Bruk Tab-knappen for å navigere til andre rader og trykk enter for å redigere de, eller klikk på raden du vil redigere med musen</p>
    <p></p>
</section>

<footer class="full-footer" *ngIf="!runAsSubComponent">
    <button class="good" (click)="postJournalEntryData($event)">Lagre og bokfør</button>
    <button (click)="removeJournalEntryData($event)">Forkast</button>
    <!--<button class="good" (click)="validateJournalEntryData($event)">Valider data</button>-->
    <button (click)="addDummyJournalEntry($event)">Test</button>
    <button (click)="useProMode()" *ngIf="journalEntryMode == 'SIMPLE'">Proffregistrering</button>
    <button (click)="useSimpleMode()" *ngIf="journalEntryMode != 'SIMPLE'">Enkel registrering</button>
</footer>

