<section class="journal-entry-simple-table-wrapper" [ngClass]="{runassubcomponent: runAsSubComponent}">
    
    <journal-entry-simple-form [dropdownData]="dropdownData" tabindex="1" (created)="newLineCreated($event)" *ngIf="dropdownData != null" [journalEntryLines]="journalEntryLines" [hideSameOrNew]="hideSameOrNew"></journal-entry-simple-form>
    <section *ngIf="dropdownData == null" class="journal-entry-simple-form-loading-placeholder" [attr.aria-busy]="dropdownData == null">
        Laster...
    </section>
    <table>
        <thead>
            <tr>
                <th>Bilagsnr</th>
                <th class="medium_col">Dato</th>
                <th>Kontoer</th>
                <th>Beløp</th>
                <th>Fordeling</th>
                <th>Beskrivelse</th>
                <th class="small_col"></th>
            </tr>
        </thead>
        <tbody>
            <template ngFor let-line [ngForOf]="journalEntryLines" [ngForTrackBy]="trackByLines">
                <tr tabindex="2" (keyup.enter)="setSelectedJournalEntryLine(line)" class="journalentrysimple-itemline" (click)="setSelectedJournalEntryLine(line)" [class.journal-entry-row-selected]="selectedJournalEntryLine == line">
                    <td class="journalentrysimple_temporary">{{line.JournalEntryNo || "Ingen"}}</td>
                    <td class="journalentrysimple-biginfo">{{line.FinancialDate != "0001-01-01T00:00:00" ? line.FinancialDate.toLocaleDateString() : ""}}</td>
                    <td class="journalentrysimple-multilineinfo">
                        <dl>
                            <dt>Debet</dt>
                            <dd>{{line.DebitAccount ? line.DebitAccount.AccountNumber + " - " + line.DebitAccount.AccountName : ""}}</dd>

                            <dt>Kredit</dt>
                            <dd>{{line.CreditAccount ? line.CreditAccount.AccountNumber + " - " + line.CreditAccount.AccountName : ""}}</dd>
                        </dl>
                    </td>
                    <td class="journalentrysimple-biginfo">{{line.Amount | number:'1.2-2'}}</td>
                    <td class="journalentrysimple-multilineinfo">
                        <dl>
                            <dt>Avdeling</dt>
                            <dd>{{getDepartmentName(line)}}</dd>

                            <dt>Prosjekt</dt>
                            <dd>{{getProjectName(line)}}</dd>
                        </dl>
                    </td>
                    <td>{{line.Description}}</td>
                    <td class="action_menu"></td>
                </tr>
                <tr *ngIf="selectedJournalEntryLine == line">
                    <td colspan="7">
                        <journal-entry-simple-form [dropdownData]="dropdownData" [journalEntryLine]="selectedJournalEntryLine" (updated)="editViewUpdated($event)" (aborted)="abortEdit()" [journalEntryLines]="journalEntryLines" [hideSameOrNew]="hideSameOrNew"></journal-entry-simple-form>
               		</td>
                </tr>
            </template>
            <tr *ngIf="journalEntryLines.length == 0">
                <td colspan="7">
                    Fyll inn data og trykk Legg til over for å legge inn en eller flere bilagslinjer
                </td>
            </tr>
        </tbody>
    </table>
   

</section>

