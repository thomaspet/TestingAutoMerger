
<button (click)="postJournalEntryData($event)">Lagre og bokfør</button>

<journal-entry-simple-add tabindex="1" (Created)="newLineCreated($event)" *ngIf="selectedJournalEntryLine == null"></journal-entry-simple-add>

<table>
    <thead>
        <tr>
            <th class="medium_col">Dato</th>
            <th class="medium_col">Nummer</th>
            <th>Kontoer</th>
            <th class="medium_col">Beløp</th>
            <th>Fordeling</th>
            <th>Beskrivelse</th>
            <th class="small_col"></th>
        </tr>
    </thead>
    <tbody>
        <template ngFor #line [ngForOf]="journalEntryLines" [ngForTrackBy]="trackByLines">        
            <tr tabindex="2" (keyup.enter)="setSelectedJournalEntryLine(line)" class="journalentrysimple-itemline" (click)="setSelectedJournalEntryLine(line)">
                <td class="journalentrysimple-biginfo">{{line.FinancialDate.toLocaleDateString()}}</td>
                <td class="journalentrysimple-multilineinfo">
                    <div><label>Bilagsnr:</label> {{line.JournalEntryNo}}</div>
                    <div><label>Fakturanr:</label> {{line.SupplierInvoiceNo}}</div>
                </td>
                <td class="journalentrysimple-multilineinfo">
                    <div><label>Debet:</label> {{line.DebitAccountNumber}} - {{line.DebitAccount.AccountName}}</div>
                    <div><label>Kredit:</label> {{line.CreditAccountNumber}} - {{line.CreditAccount.AccountName}}</div>
                </td>
                <td class="journalentrysimple-biginfo">{{line.Amount}}</td>
                <td class="journalentrysimple-multilineinfo">
                    <div><label>Avdeling:</label> {{line.Dimensions.DepartmentID}}</div>
                    <div><label>Prosjekt:</label> {{line.Dimensions.ProjectID}}</div>
                </td>
                <td>{{line.Description}}</td>
                <td class="action_menu"></td>
            </tr>
            <tr *ngIf="selectedJournalEntryLine == line">
                <td colspan="6">
                    <journal-entry-simple-edit [JournalEntryLine]="selectedJournalEntryLine" (Updated)="editViewUpdated($event)" (Aborted)="abortEdit()"></journal-entry-simple-edit>
                </td>
            </tr>
        </template>                  
    </tbody>
</table>    
