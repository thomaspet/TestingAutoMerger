<uni-toolbar [config]="toolbarconfig"></uni-toolbar>

<section class="supplier-invoice-detail">
    <section class="poster_overview">
        <uni-widget-poster [model]="supplierInvoice">
            <section class="application" *ngIf="supplierInvoice">
                <section>Restsum kr. {{supplierInvoice.RestAmount }}</section>
                <section style="display:none">
                    Kreditert kr. {{supplierInvoice.CreditedAmount }}
                </section>
            </section>
        </uni-widget-poster>
    </section>

    <article class="supplier-invoice-detail-form">

        <p class="error validation" *ngIf="errors && errors.length > 0">
            <span *ngFor="let error of errors">
                    {{error.Message}}
            </span>
        </p>

        <uni-form *ngIf='supplierInvoice'
            [config]='config'
            [fields]='fields'
            [model]='supplierInvoice'
            (onReady)="ready($event)">
        </uni-form>

    </article>

    <register-payment-modal></register-payment-modal>

    <article class="supplier-invoice-detail-booking">
        <journal-entry-manual [supplierInvoice]="supplierInvoice" [runAsSubComponent]="true" [disabled]="disabled" *ngIf="supplierInvoice && supplierInvoice.JournalEntryID"></journal-entry-manual>
    </article>

</section>

<article class="supplier-invoice-detail-document" *ngIf="supplierInvoice && supplierInvoice.ID > 0">
    <!--<uni-image [imageId]="previewId" [size]="previewSize" *ngIf="previewId > 0"></uni-image>   -->

    <p class="good validation" *ngIf="fileuploader.statusText">
        <span>{{fileuploader.statusText}}</span>
    </p>
    <uni-document-uploader *ngIf="previewId == -1"
    [service]="fileuploader"
    [entity]="supplierInvoice"
    (onFileUploaded)="onFileUploaded($event)"></uni-document-uploader>
</article>


<uni-save [actions]="actions" *ngIf="actions"></uni-save>

<supplier-detail-modal></supplier-detail-modal>
