<uni-toolbar [config]="toolbarconfig"></uni-toolbar>

<section class="supplier-invoice-detail">
    <section class="poster_overview">
        <uni-widget-poster [model]="supplierInvoice$ | async">
            <section class="application" *ngIf="supplierInvoice$ | async">
                <section>Restsum kr. {{(supplierInvoice$ | async)?.RestAmount }}</section>
                <section style="display:none">
                    Kreditert kr. {{(supplierInvoice$ | async)?.CreditedAmount }}
                </section>
            </section>
        </uni-widget-poster>
    </section>

    <article class="supplier-invoice-detail-form">

        <p class="error validation" *ngIf="errors && errors.length > 0">
            <span *ngFor="let error of errors">
                    {{error.Message}}
            </span>
        </p>

        <uni-form
            [config]="config$"
            [fields]="fields$"
            [model]="supplierInvoice$"
            (readyEvent)="ready($event)"
            (changeEvent)="change($event)"
        ></uni-form>

    </article>

    <register-payment-modal></register-payment-modal>

    <article class="supplier-invoice-detail-booking">
        <journal-entry-manual [supplierInvoice]="supplierInvoice$ | async" [runAsSubComponent]="true" [disabled]="disabled" *ngIf="(supplierInvoice$ | async)?.JournalEntryID"></journal-entry-manual>
    </article>

</section>

<article class="supplier-invoice-detail-document">
    <uni-image [entity]="'SupplierInvoice'" [entityID]="(supplierInvoice$ | async)?.ID"></uni-image>
</article>


<uni-save [actions]="actions" *ngIf="actions"></uni-save>

<supplier-detail-modal></supplier-detail-modal>
