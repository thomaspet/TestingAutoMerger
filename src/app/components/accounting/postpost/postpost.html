<uni-toolbar
    [config]="toolbarconfig"
    [saveactions]="saveActions"
    [selectConfig]="registerConfig"
    (selectValueChanged)="changeRegister($event.Register)">
</uni-toolbar>

<section class="application">
        <uni-tabs
            [tabs]="mainTabs"
            [(activeIndex)]="mainActiveIndex"
            (tabClick)="onCustomerFilterClick($event)">
        </uni-tabs>
    <section class="splitview">
        <nav class="small-split-view-list">
            <mat-form-field>
                <mat-select [value]="currentListFilter" placeholder="Sorter etter">
                    <mat-option *ngFor="let filter of accountListfilters" [value]="filter" (click)="onActiveFilterChange(filter)">
                        {{ filter.name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <input type="search" [(ngModel)]="accountSearchFilterString" [formControl]="searchControl"/>
            <ul id="role-info">
                <li *ngFor="let account of filteredAccounts"
                    [class.selected]="account.ID === activeAccount"
                    (click)="onRowSelected(account)" style="display: flex; flex-direction: row;">

                    <section style="flex: 1 0; width: 50%; overflow: hidden;">
                        <span class="link" (click)="goToAccount($event, account.ID, account.AccountNumber)">
                            {{ account.AccountName }}
                        </span>
                        <br />
                        <span>
                            Konto: &nbsp; {{ account.AccountNumber }}
                        </span>
                    </section>
                    <section style="flex: 1 0; text-align: right; font-size: .9rem;">
                        <span [class.number-good]="account.SumAmount >= 0" [class.bad]="account.SumAmount < 0"> {{ numberFormatService.asMoney(account.SumAmount) }}  </span>
                        <br />
                        <span>Antall {{ mainTabs[this.mainActiveIndex].value === 'ALL' || register === 'account' ? 'Ã¥pne' : '' }} poster: &nbsp; {{account.count}} </span>
                    </section>
                </li>
            </ul>
        </nav>

        <main class="splitview_detail customer-post-post-view" style="margin-top: 0 !important;">
            <div style="display: flex; width: 100%;">
                <uni-tabs
                    [tabs]="tabs"
                    [(activeIndex)]="activeIndex"
                    (tabClick)="onFilterClick($event)">
                </uni-tabs>
                <button title="Ctrl + A" class="good" [disabled]="!(postpost?.canAutoMark)" (click)="autoMark()">Automerking </button>
            </div>
            <ledger-account-reconciliation
                [customerID]="(customer$ | async)?.ID"
                [accountNumber]="(current$ | async)?.AccountNumber"
                [supplierID]="(supplier$ | async)?.ID"
                [accountID]="(account$ | async)?.ID"
                [autoLocking]="autolocking"
                [hideHeader]="true"
                [searchValue]="postSearchFilterString"
                [displayPostsOption]="currentFilter"
                (selectionChanged)="onLedgerTableSelectionChanged($event)"
                (automarkChecked)="autoMark()"
                (searchUpdated)="postpostSearchUpdated($event)"
                (saveComplete)="reloadRegister()">
            </ledger-account-reconciliation>
        </main>
    </section>

</section>
