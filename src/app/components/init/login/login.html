<article class="authentication-component">
    <section #loginForm>
        <form (submit)="login($event)">
            <small class="validation error" *ngIf="errorMessage.length">{{errorMessage}}</small>

            <section class="input-with-icon">
                <label for="username">Brukernavn</label>
                <span class="user-icon"></span>
                <input id="username"
                    type="text"
                    placeholder="Brukernavn"
                    autofocus
                    [disabled]="working"
                    [formControl]="usernameControl"
                />
            </section>

            <section class="input-with-icon">
                <label for="password">Passord</label>
                <span class="password-icon"></span>
                <input id="password"
                    type="password"
                    placeholder="Passord"
                    [disabled]="working"
                    [formControl]="passwordControl"
                />
            </section>

            <button class="auth-button c2a" [attr.aria-busy]="working" [disabled]="working">
                Logg inn
            </button>
        </form>

        <section class="links">
            <a [routerLink]="['../reset-password']">Glemt passord?</a>
        </section>
    </section>

    <section #companySelector style="display: none">
        <ng-template [ngIf]="missingCompanies">
            <p class='validation info'>Fant ingen selskaper på brukeren. Dersom problemet vedvarer vennligst kontakt din systemadministrator eller vårt kundesenter.</p>
            <a (click)="resetLogin()" style="display:block;text-align:center;">Tilbake til innlogging</a>
        </ng-template>

        <uni-select
            [config]="selectConfig"
            [items]="availableCompanies"
            (valueChange)="onCompanySelected($event)">
        </uni-select>
    </section>
</article>
