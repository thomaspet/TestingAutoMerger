<section class="project-router-outlet">
    <section class="project-subview">

        <section class="hourtotals-toolbar">
            <mat-form-field>
                <mat-select [value]="activeFilter" (valueChange)="onActiveFilterChange($event)" placeholder="Visning">
                    <mat-option *ngFor="let filter of filters" [value]="filter">
                        {{ filter.label }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <button (click)="onAddHoursClick()" class="good">Registrere timer</button>
        </section>

        <div [attr.aria-busy]="busy">

            <p *ngIf="report?.length == 0 || (!report)">
                Ingen timer registrert på prosjektet. Velg 'Registrer timer' for å legge inn noen timer.
            </p>

            <div *ngFor="let group of report">
                <table class="report">
                    <thead><tr>
                        <th>Antall timer i {{group.title}}</th>
                        <th>Sum</th>
                        <th class="prc">%</th>
                        <th *ngFor="let hc of group.columns">{{hc}}</th>
                    </tr></thead>
                    <tr *ngFor="let row of group.rows">
                        <td>{{row.title}}</td>
                        <td>{{row.sum|min2hours:'int'}}</td>
                        <td class="prc">{{row.prc|numpipe:'0'}}</td>
                        <td *ngFor="let col of row.items">{{col.tsum | min2hours:'int'}}</td>
                    </tr>
                    <tr>
                        <td>Sum {{group.title}}</td>
                        <td class="left" colspan="14">{{group.sum|min2hours}}</td>
                    </tr>
                </table>
                <br/>
            </div>

        </div>
    </section>
</section>