<section class="toolbar-content">
    <section class="toolbar-top-row">
        <uni-breadcrumbs
            *ngIf="!config?.hideBreadcrumbs"
            [omitFinalCrumb]="config?.omitFinalCrumb">
        </uni-breadcrumbs>

        <uni-toolbar-help
            [videoURL]="videoURLResolver | async">
        </uni-toolbar-help>
    </section>

    <section class="toolbar-bottom-row">
        <uni-toolbar-search *ngIf="searchConfig; else textHeader"
            [config]="searchConfig">
        </uni-toolbar-search>

        <ng-template #textHeader>
            <h1 class="toolbar-title">{{config?.title}}</h1>
        </ng-template>

        <uni-statustrack
            *ngIf="statustrack || config?.statustrack"
            [config]="statustrack || config.statustrack"
            [entityType]="config?.entityType"
            [entityID]="config?.entityID"
            (statusSelectEvent)="selectStatus($event)">
        </uni-statustrack>

        <section class="toolbar-extras" #toolbarExtras>
            <section *ngIf="selectConfig" class="toolbar_uniselect">
                {{selectConfig.label}}
                <uni-select
                    [config]="uniSelectConfig"
                    [items]="selectConfig.items"
                    [value]="selectConfig.selectedItem"
                    (valueChange)="selectValueSelected($event)">
                </uni-select>
            </section>

            <ng-template ngFor let-subhead [ngForOf]="config?.subheads">
                <small *ngIf="subhead.title || subhead.link"
                    [class]="subhead.classname || ''"
                    (click)="triggerSubheadEvent(subhead)">

                    <a [href]="subhead.link" *ngIf="subhead.link">{{subhead.title}}</a>
                    {{subhead.link ? '' : subhead.title}}
                </small>
            </ng-template>

            <uni-tags
                *ngIf="tags"
                [tags]="tags"
                [config]="tagConfig"
                (tagsChange)="tagsChangeEvent($event)">
            </uni-tags>
        </section>

        <nav class="toolbar_tools">
            <uni-comments *ngIf="commentsConfig?.entityID > 0"
                [entity]="commentsConfig.entityType"
                [entityID]="commentsConfig.entityID"
                [toggleMode]="true">
            </uni-comments>

            <button *ngIf="config?.navigation?.prev"
                title="Forrige"
                class="previous"
                type="button"
                (click)="navigate('prev')">
                Forrige
            </button>

            <button *ngIf="config?.navigation?.next"
                title="Neste"
                class="next"
                type="button"
                (click)="navigate('next')">
                Neste
            </button>

            <button *ngIf="config?.navigation?.add"
                title="Opprett ny"
                class="new"
                type="button"
                (click)="navigate('add')">
                Ny
            </button>

            <uni-context-menu *ngIf="contextmenu || config?.contextmenu"
                [actions]="contextmenu || config.contextmenu">
            </uni-context-menu>

            <uni-toolbar-share [shareActions]="shareActions"></uni-toolbar-share>
        </nav>

        <uni-save *ngIf="saveactions || config?.saveactions"
            [actions]="saveactions || config.saveactions">
        </uni-save>

    </section>
</section>
