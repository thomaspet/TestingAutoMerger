<section class="toolbar-content">
    <section class="toolbar-top-row">
        <uni-breadcrumbs
            *ngIf="!config?.hideBreadcrumbs"
            [omitFinalCrumb]="config?.omitFinalCrumb">
        </uni-breadcrumbs>

        <uni-toolbar-help
            [videoURL]="videoURLResolver | async">
        </uni-toolbar-help>
    </section>

    <section class="toolbar-bottom-row">
        <!-- TODO: input[search] -->
        <h1>{{config?.title}}</h1>

        <uni-statustrack
            *ngIf="statustrack || config?.statustrack"
            [config]="statustrack || config.statustrack"
            [entityType]="config?.entityType"
            [entityID]="config?.entityID"
            (statusSelectEvent)="selectStatus($event)">
        </uni-statustrack>

        <section class="toolbar-extras">
            <section *ngIf="selectConfig" class="toolbar_uniselect">
                {{selectConfig.label}}
                <uni-select
                    [config]="uniSelectConfig"
                    [items]="selectConfig.items"
                    [value]="selectConfig.selectedItem"
                    (valueChange)="selectValueSelected($event)">
                </uni-select>
            </section>

            <ng-template ngFor let-subhead [ngForOf]="config?.subheads">
                <small *ngIf="subhead.title || subhead.link"
                    [class]="subhead.classname || ''"
                    (click)="triggerSubheadEvent(subhead)">

                    <a [href]="subhead.link" *ngIf="subhead.link">{{subhead.title}}</a>
                    {{subhead.link ? '' : subhead.title}}
                </small>
            </ng-template>

            <uni-tags
                *ngIf="tags"
                [tags]="tags"
                [config]="tagConfig"
                (tagsChange)="tagsChangeEvent($event)">
            </uni-tags>
        </section>

        <nav class="toolbar_tools">
            <button *ngIf="config?.navigation?.prev"
                class="previous"
                type="button"
                (click)="navigate('prev')">
                Forrige
            </button>

            <button *ngIf="config?.navigation?.next"
                class="next"
                type="button"
                (click)="navigate('next')">
                Neste
            </button>

            <button *ngIf="config?.navigation?.add"
                class="new"
                type="button"
                (click)="navigate('add')">
                Ny
            </button>

            <uni-context-menu *ngIf="contextmenu || config?.contextmenu"
                [actions]="contextmenu || config.contextmenu">
            </uni-context-menu>
        </nav>

        <uni-save *ngIf="saveactions || config?.saveactions"
            [actions]="saveactions || config.saveactions">
        </uni-save>

    </section>
</section>


<!-- <uni-autocomplete-input *ngIf="autocompleteField"
    [field]="autocompleteField"
    [model]="autocompleteModel"
    (readyEvent)="autocompleteReadyEvent"
    (changeEvent)="autocompleteChangeEvent"
    (focusEvent)="autocompleteFocusEvent">
</uni-autocomplete-input>

<h1>{{config?.title}}



    <section *ngIf="selectConfig" class="toolbar_uniselect">
        {{selectConfig.label}}
        <uni-select
                    [config]="uniSelectConfig"
                    [items]="selectConfig.items"
                    [value]="selectConfig.selectedItem"
                    (valueChange)="selectValueSelected($event)">
        </uni-select>
    </section>
</h1>

<nav class="toolbar_tools">

    <button *ngIf="(videoURL | async)?.length"
            class="info"
            type="button"
            (click)="openVideo()">Vis video</button>

    <input *ngIf="config?.navigation?.find"
        #query
        type="search"
        class="find"
        (keydown.enter)="navigate('find', query.value)" />

    <button *ngIf="config?.navigation?.prev"
        class="previous"
        type="button"
        (click)="navigate('prev')">Forrige</button>

    <button *ngIf="config?.navigation?.next"
        class="next"
        type="button"
        (click)="navigate('next')">Neste</button>

    <button *ngIf="config?.navigation?.add"
        class="new"
        type="button"
        (click)="navigate('add')">Ny</button>

    <uni-context-menu *ngIf="contextmenu || config?.contextmenu"
                      [actions]="contextmenu || config.contextmenu">
    </uni-context-menu>

    <uni-save *ngIf="saveactions || config?.saveactions"
              [actions]="saveactions || config.saveactions">
    </uni-save>

</nav> -->
