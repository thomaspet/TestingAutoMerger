<!-- TOOLBAR LEFT -->
<section class="toolbar-left">
    <uni-breadcrumbs
        *ngIf="!config?.hideBreadcrumbs"
        [omitFinalCrumb]="config?.omitFinalCrumb">
    </uni-breadcrumbs>

    <section class="toolbar-header">
        <uni-toolbar-search
            *ngIf="searchVisible; else textHeader"
            [config]="searchConfig"
            (clickOutside)="toggleSearch()">
        </uni-toolbar-search>

        <ng-template #textHeader>
            <h1 class="toolbar-title" (click)="toggleSearch()">
                {{config?.title || searchConfig?.initValue}}
                <i class="material-icons" *ngIf="searchConfig">
                    search
                </i>
            </h1>
        </ng-template>
    </section>
</section>

<!-- TOOLBAR CENTER -->
<section class="toolbar-center">
    <uni-statustrack
        *ngIf="statustrack || config?.statustrack"
        [config]="statustrack || config.statustrack"
        [entityType]="config?.entityType"
        [entityID]="config?.entityID"
        (statusSelectEvent)="selectStatus($event)">
    </uni-statustrack>

    <uni-toolbar-validation
        *ngIf="validationMessages?.length"
        [validationMessages]="validationMessages">
    </uni-toolbar-validation>

    <section class="toolbar-extras" #toolbarExtras>
        <section *ngIf="selectConfig" class="toolbar_uniselect">
            {{selectConfig.label}}
            <uni-select
                [config]="uniSelectConfig"
                [items]="selectConfig.items"
                [value]="selectConfig.selectedItem"
                (valueChange)="selectValueSelected($event)">
            </uni-select>
        </section>

        <ng-template ngFor let-subhead [ngForOf]="subheads || config?.subheads">
            <small class="toolbar-subhead"
                *ngIf="subhead.title || subhead.link"
                [title]="subhead.title"
                [ngClass]="subhead.classname || ''"
                (click)="triggerSubheadEvent(subhead)">

                <span *ngIf="subhead.label" class="subhead-label">{{subhead.label}}: </span>

                <a [href]="subhead.link" *ngIf="subhead.link">{{subhead.title}}</a>
                {{subhead.link ? '' : subhead.title}}
            </small>
        </ng-template>

        <uni-tags
            *ngIf="tags"
            [tags]="tags"
            [config]="tagConfig"
            (tagsChange)="tagsChangeEvent($event)"
            (tagsBusy)="tagsBusyEvent($event)">
        </uni-tags>
    </section>
</section>

<!-- TOOLBAR RIGHT -->
<section #toolbarRight class="toolbar-right">
    <nav id="toolbar-tools" class="toolbar_tools">
        <uni-comments *ngIf="commentsConfig?.entityID > 0"
            [entity]="commentsConfig.entityType"
            [entityID]="commentsConfig.entityID"
            [toggleMode]="true">
        </uni-comments>

        <button *ngIf="config?.navigation?.prev"
            title="Forrige"
            class="previous"
            type="button"
            (click)="navigate('prev')">
            Forrige
        </button>

        <button *ngIf="config?.navigation?.next"
            title="Neste"
            class="next"
            type="button"
            (click)="navigate('next')">
            Neste
        </button>

        <button *ngIf="config?.navigation?.add"
            [title]="config.navigation.add.label || 'Opprett ny'"
            class="new"
            type="button"
            (click)="onCreateNewClick()">

            <i class="material-icons">add</i>
            {{config.navigation.add.label || 'Opprett ny'}}
        </button>

        <uni-context-menu *ngIf="contextmenu || config?.contextmenu"
            [actions]="contextmenu || config.contextmenu">
        </uni-context-menu>

        <uni-toolbar-share [shareActions]="shareActions"></uni-toolbar-share>

        <!-- <i class="material-icons">comment</i>
        <i class="material-icons bold-icon">keyboard_arrow_left</i>
        <i class="material-icons bold-icon">keyboard_arrow_right</i>
        <i class="material-icons bold-icon">add</i>
        <i class="material-icons">more_horiz</i>
        <i class="material-icons">share</i> -->
    </nav>

    <uni-save id="toolbar-save"
        *ngIf="saveactions || config?.saveactions"
        [actions]="saveactions || config.saveactions">
    </uni-save>

</section>

<!-- <section class="toolbar-content"> -->

    <!-- <section class="toolbar-top-row">
        <uni-breadcrumbs
            *ngIf="!config?.hideBreadcrumbs"
            [omitFinalCrumb]="config?.omitFinalCrumb">
        </uni-breadcrumbs>
    </section>

    <section class="toolbar-bottom-row">
        <uni-toolbar-search *ngIf="searchConfig; else textHeader"
            [config]="searchConfig">
        </uni-toolbar-search>

        <ng-template #textHeader>
            <h1 class="toolbar-title">{{config?.title}}</h1>
        </ng-template>

        <uni-statustrack
            *ngIf="statustrack || config?.statustrack"
            [config]="statustrack || config.statustrack"
            [entityType]="config?.entityType"
            [entityID]="config?.entityID"
            (statusSelectEvent)="selectStatus($event)">
        </uni-statustrack>

        <section class="toolbar-extras" #toolbarExtras>
            <section *ngIf="selectConfig" class="toolbar_uniselect">
                {{selectConfig.label}}
                <uni-select
                    [config]="uniSelectConfig"
                    [items]="selectConfig.items"
                    [value]="selectConfig.selectedItem"
                    (valueChange)="selectValueSelected($event)">
                </uni-select>
            </section>

            <ng-template ngFor let-subhead [ngForOf]="config?.subheads">
                <small *ngIf="subhead.title || subhead.link"
                    [class]="subhead.classname || ''"
                    (click)="triggerSubheadEvent(subhead)">

                    <a [href]="subhead.link" *ngIf="subhead.link">{{subhead.title}}</a>
                    {{subhead.link ? '' : subhead.title}}
                </small>
            </ng-template>

            <uni-tags
                *ngIf="tags"
                [tags]="tags"
                [config]="tagConfig"
                (tagsChange)="tagsChangeEvent($event)">
            </uni-tags>
        </section>

        <nav class="toolbar_tools">
            <uni-comments *ngIf="commentsConfig?.entityID > 0"
                [entity]="commentsConfig.entityType"
                [entityID]="commentsConfig.entityID"
                [toggleMode]="true">
            </uni-comments>

            <button *ngIf="config?.navigation?.prev"
                title="Forrige"
                class="previous"
                type="button"
                (click)="navigate('prev')">
                Forrige
            </button>

            <button *ngIf="config?.navigation?.next"
                title="Neste"
                class="next"
                type="button"
                (click)="navigate('next')">
                Neste
            </button>

            <button *ngIf="config?.navigation?.add"
                title="Opprett ny"
                class="new"
                type="button"
                (click)="navigate('add')">
                Ny
            </button>

            <uni-context-menu *ngIf="contextmenu || config?.contextmenu"
                [actions]="contextmenu || config.contextmenu">
            </uni-context-menu>

            <uni-toolbar-share [shareActions]="shareActions"></uni-toolbar-share>
        </nav>

        <uni-save *ngIf="saveactions || config?.saveactions"
            [actions]="saveactions || config.saveactions">
        </uni-save>

    </section> -->
<!-- </section> -->
