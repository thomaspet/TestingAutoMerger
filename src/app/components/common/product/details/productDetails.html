<uni-toolbar *ngIf="!modalMode"
    [config]="toolbarconfig"
    [saveactions]="saveactions"
    [tags]="categoryFilter"
    [tagConfig]="tagConfig">
</uni-toolbar>

<header class="product_poster" *ngIf="product">
     <!-- Widget poster -->
    <section class="poster_overview">
        <uni-widget-poster [model]="product">
            <section class="application">
                <section>Utpris eks. MVA: kr. {{product.PriceExVat }}</section>
                <section>Utpris ink. MVA: kr. {{product.PriceIncVat }}</section>
            </section>
        </uni-widget-poster>
    </section>
</header>

<section *ngIf="(product$ | async)" class="product-details application">
    <uni-form
            [config]="config$"
            [fields]="fields$"
            [model]="product$"
            (changeEvent)="change($event)">
    </uni-form>

    <article class="collapsable" [ngClass]="{'-is-open': showExtendedProductInfo}">
        <h4 (click)="showExtendedProductInfo = !showExtendedProductInfo">Utvidet produktinformasjon</h4>
        <div class="collapsable-content">
            <fieldset>
                <legend>Produktbeskrivelse</legend>
                <label>
                    <span>Beskrivelse</span>
                    <textarea
                            #descriptionField
                            [formControl]="descriptionControl"
                            (change)="textareaChange">
                    </textarea>
                </label>
            </fieldset>

            <fieldset>
                <legend>Produktbilde</legend>
                <uni-image [entity]="'product'" [entityID]="(product$ | async)?.ID" [uploadConfig]="imageUploadConfig"></uni-image>
            </fieldset>
        </div>
    </article>
</section>
