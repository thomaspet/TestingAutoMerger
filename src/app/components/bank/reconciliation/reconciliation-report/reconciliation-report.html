<section>

    <section class="report-header-section">
        <section class="filter-section" style="display: flex;">
            <label class="uni-label">
                <span>Bankkonto</span>
                <select [(ngModel)]="currentAccount" (change)="getDataAndLoadList()">
                    <option *ngFor="let account of bankAccounts" [ngValue]="account">
                        {{ account.AccountNumber }} - {{ account.AccountName }}
                    </option>
                </select>
            </label>

            <label class="uni-label">
                <span>Visning</span>
                <select [(ngModel)]="currentView" (change)="viewSelect()">
                    <option *ngFor="let view of viewTypes" [ngValue]="view">
                        {{ view.label }}
                    </option>
                </select>
            </label>

        </section>

        <section class="middle-class-section">

        </section>

        <span class="bank-info-box">
            <span> {{ currentAccount.BankName }}</span>
            <span> {{ currentAccount.BankAccountNumber }} </span>
        </span>

    </section>

    <section class="report-details-section">

        <section class="details-top-section">
            <strong> Innkommende balanse:  </strong>
            <span style="flex: 1;" [ngClass]="incommingBalance >= 0 ? 'good' : 'bad'"> {{ (incommingBalance | uninumberformat: 'money') || '0,00' }}  </span>
            <a href="/#/bank/reconciliationmatch?accountid={{currentAccount.AccountID}}" *ngIf="currentAccount.count"> Avstem {{ currentAccount.count }} ventende poster </a>
            <button class="c2a" (click)="openReport()"> <i class="material-icons">cloud_download</i> Eksporter rapport </button>
        </section>

        <section class="details-section">

            <table>
                <thead>
                    <tr>
                        <th> Periode </th>
                        <th> Ikke avstemte </th>
                        <th> Sum ikke avstemte </th>
                        <th> Bankposter </th>
                        <th> Sum </th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let month of reportData; let i = index;">
                        <td> {{ month.Period }} </td>
                        <td> {{ month.NumberOfUnReconciled }} </td>
                        <td [ngClass]="month.TotalUnreconciled >= 0 ? 'good' : 'bad'"> {{ (month.TotalUnreconciled | uninumberformat: 'money') || '0,00' }}</td>
                        <td> {{ month.NumberOfItems }} </td>
                        <td [ngClass]="month.TotalAmount >= 0 ? 'good' : 'bad'"> {{ (month.TotalAmount | uninumberformat: 'money') || '0,00' }} </td>
                    </tr>
                </tbody>
            </table>

        </section>

    </section>

</section>