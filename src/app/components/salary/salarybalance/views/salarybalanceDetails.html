<section>
    <fieldset class="small">
        <legend>Detaljer</legend>
        <aside>
            <uni-form
                [config]="config$"
                [fields]="fields$ | async"
                [model]="salarybalance$"
                (changeEvent)="change($event)"></uni-form>
        </aside>
    </fieldset>

    <fieldset class="small">
        <legend>Dokumenter</legend>
        <div *ngIf="!(salarybalance$ | async)?.ID">
            <uni-image [singleImage]="true" [uploadWithoutEntity]="'true'" [fileIDs]="fileIds"
                (fileListReady)="onFileListReady($event)"
                (imageClicked)="onImageClicked($event)">
            </uni-image>
        </div>
        <uni-image *ngIf="(salarybalance$ | async)?.ID" [entity]="'SalaryBalance'" [entityID]="(salarybalance$ | async)?.ID"
            (fileListReady)="onFileListReady($event)"
            (imageClicked)="onImageClicked($event)" >
        </uni-image>
    </fieldset>

    <fieldset>
        <legend>Poster</legend>
        <salary-balance-summary
            [salaryBalance]="salarybalance$ | async"
            [busy]="summaryBusy$ | async"
            (changeEvent)="onSummaryChanges($event)">
        </salary-balance-summary>
    </fieldset>
</section>
