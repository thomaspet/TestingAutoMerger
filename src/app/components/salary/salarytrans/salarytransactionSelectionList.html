<section class="salarytrans-splitview">
    <section class="uni-container salarytrans-list small-split-view-list"  [attr.aria-busy]="busy">
        <mat-form-field style="padding: 0;">
            <mat-select [value]="currentListFilter" placeholder="Sorter etter">
                <mat-option *ngFor="let filter of employeeListfilters" [value]="filter" (click)="onActiveFilterChange(filter)">
                    {{ filter.name }}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <div style="display: flex; align-items: center; padding: 0;">
            <input type="search" [(ngModel)]="employeeFilterString" [formControl]="searchControl" style="flex: 1; margin-right: 1rem;"/>
            <i class="material-icons" style="color: green; vertical-align: middle; cursor: pointer;" (click)="getEmployee()" title="Legg til ny ansatt til lønnsavregning"> add_circle_outline </i>
        </div>
        <ul id="role-info" style="padding: 0;">
            <li *ngFor="let employee of filteredEmployees"
                [class.selected]="employee.ID === selectedEmp?.ID"
                (click)="rowSelected(employee)" style="display: flex; flex-direction: row;">
                <div> {{ employee.EmployeeNumber }}. </div>
                <span> {{ employee.Name }} </span>
                <i class="material-icons bad" *ngIf="employee._errors" title="{{ employee._errors }}"> warning </i>
            </li>
            <li *ngIf="hasInitialized && !filteredEmployees.length" style="padding: 0; line-height: 34px;">
                <span (click)="getEmployee()" style="font-weight: 600;"> Ingen ansatte å vise. Legg til ny </span>
            </li>
        </ul>
    </section>

    <section class="uni-container salarytrans-details">
        <header *ngIf="selectedEmp && agaZone">
            <a [routerLink]="['/salary/employees/' + selectedEmp.ID]">
                {{selectedEmp.EmployeeNumber}} - {{selectedEmp?.Name}}
            </a>
            &ensp;|&ensp;
            Virksomhet: {{selectedEmp.SubEntity?.BusinessRelationInfo?.Name}}&ensp;|&ensp;
            <abbr title="Arbeidsgiveravgift">Aga</abbr>-sone: {{agaZone.ZoneName}}


            <section class="navigation-buttons">
                <i class="material-icons" role="button" (click)="prevRow()">
                    keyboard_arrow_left
                </i>
                <i class="material-icons" role="button" (click)="nextRow()">
                    keyboard_arrow_right
                </i>
            </section>
        </header>

        <link-menu [menu]="linkMenu$ | async"></link-menu>
        <salary-transactions-employee *ngIf="selectedEmp" [employee]="selectedEmp"></salary-transactions-employee>
        <section class="detail_tables" *ngIf="employees && selectedEmp">
            <uni-summary [configs]="summary" [ngClass]="{'-is-dirty':hasDirty()}"></uni-summary>
        </section>
    </section>
</section>
