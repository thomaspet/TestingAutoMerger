<section role="dialog" class="uni-modal medium" style="text-align: left;">
    <header>
        <h1>{{headerString}}</h1>
    </header>
    <article>
        <section *ngIf="!showReceipt" class="unitableWidthAuto">
            <uni-form
                [config]="config$"
                [fields]="fields$"
                [model]="formModel$"
                (changeEvent)="change($event)">
            </uni-form>
            <section [attr.aria-busy]="busy">
                <ag-grid-wrapper *ngIf="summary" [resource]="summary.PostList" [config]="accountTableConfig"></ag-grid-wrapper>
                <label>Kontrollsum totalt: </label> {{sum$ | async | unicurrency }}
            </section>
        </section>

        <section *ngIf="showReceipt" [attr.aria-busy]="busy">
            <p>Bilaget er bokført i ditt regnskap</p>
            <p>
                <a (click)="close()" href="#/accounting/transquery;JournalEntryNumber={{journalNumber}}">
                    Bilagsnummer: {{journalNumber}}
                </a>
            </p>
            <p>Dato {{journalDate}}</p>
        </section>
    </article>

    <footer class="postingsummary_footer">
        <section *ngIf="!showReceipt">
            <button [disabled]="busy" (click)="postTransactions()" class="good">Bokfør</button>
            <button [disabled]="busy" (click)="close()" class="bad">Avbryt</button>
        </section>
        <button [disabled]="busy" *ngIf="showReceipt" (click)="close()" class="good">OK</button>
    </footer>
</section>
