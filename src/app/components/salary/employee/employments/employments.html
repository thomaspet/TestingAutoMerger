<section class="splitview">
    <nav class="splitview_list">
        <uni-table
            [config]="tableConfig"
            [resource]="employments"
            (rowSelected)="onRowSelected($event)">
        </uni-table>

        <button (click)="newEmployment()" [disabled]="employee?.ID === 0 || btnDisabled()">
            Nytt Arbeidsforhold
        </button>
        <br><small *ngIf="employee?.ID === 0">Ansatt må lagres før arbeidsforhold kan registreres</small>
    </nav>

    <main class="splitview_detail" *ngIf="employments">
        <employment-details
            [employment]="selectedEmployment$ | async"
            [subEntities]="subEntities"
            [projects]="projects"
            [departments]="departments"
            [employeeID]="employeeID"
            (employmentChange)="onEmploymentChange($event)">
        </employment-details>
    </main>
</section>
