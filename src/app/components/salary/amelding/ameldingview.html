<header class="poster">
    <uni-toolbar
        [config]="toolbarConfig"
        [saveactions]="actions"
        [contextmenu]="contextMenuItems"
        [statustrack]="getStatusTrackConfig()"
        [searchConfig]="toolbarSearchConfig"
        (statusSelectEvent)="setAmeldingFromEvent($event)">
    </uni-toolbar>

    <section class="amelding_poster">

        <article class="amelding_poster_widget">
            <dl class="amelding_poster_details" [ngClass]="{'no_avvik': periodStatus === 'Mottatt'}">
                <dt>Juridisk enhet</dt>
                <dd>{{legalEntityNo | uninumberformat:'orgno'}}</dd>

                <dt>Status periode</dt>
                <dd>{{periodStatus}}</dd>
            </dl>
        </article>

        <article class="amelding_poster_widget two-up">
            <table class="amelding_poster_figures">
                <tr>
                    <td></td>
                    <th>Sum forskuddstrekk</th>
                    <th>Sum arbeidsgiveravgift</th>
                </tr>
                <tr>
                    <th class="datacolumn">Fra l√∏nnsystem</th>
                    <td class="currency">{{totalFtrekkSystemStr}}</td>
                    <td class="currency">{{totalAGASystemStr}}</td>
                </tr>
                <tr>
                    <th class="datacolumn">Fra tilbakemelding</th>
                    <td class="currency">{{totalFtrekkFeedbackStr}}</td>
                    <td class="currency">{{totalAGAFeedBackStr}}</td>
                </tr>
            </table>
        </article>

        <article class="amelding_poster_widget">
            <ul class="amelding_poster_events" *ngIf="initialized">
                <li [className]="clarifiedDate ? 'success' : 'warn'">
                    {{clarifiedDate ? 'Generert' : 'Ikke generert'}}
                    <time *ngIf="clarifiedDate">{{clarifiedDate}}</time>
                </li>
                <li [className]="submittedDate ? 'success' : 'warn'">
                    {{submittedDate ? 'Innsendt' : 'Ikke innsendt'}}
                    <time *ngIf="submittedDate">{{submittedDate}}</time>
                </li>
                <li [className]="feedbackObtained ? 'success' : 'warn'">
                    {{feedbackObtained ? 'Tilbakemelding hentet' : 'Tilbakemelding ikke hentet'}}
                </li>
            </ul>
        </article>

    </section>
</header>

<section class="application">

    <uni-tabs [tabs]="tabs" [(activeIndex)]="activeTabIndex"></uni-tabs>

    <section [ngSwitch]="activeTabIndex">
        <amelding-summary-view
            *ngSwitchCase="0"
            [currentSumUp]="currentSumUp"
            [currentAMelding]="currentAMelding">
        </amelding-summary-view>

        <amelding-aga-view
            *ngSwitchCase="1"
            [currentSumUp]="currentSumUp">
        </amelding-aga-view>

        <amelding-receipt-view
            *ngSwitchCase="2"
            [currentAMelding]="currentAMelding"
            [aMeldingerInPeriod]="aMeldingerInPeriod">
        </amelding-receipt-view>

        <amelding-periodsummary-view
            *ngSwitchCase="3"
            [currentAMelding]="currentAMelding"
            [systemData]="currentSumsInPeriod"
            [aMeldingerInPeriod]="aMeldingerInPeriod">
        </amelding-periodsummary-view>

    </section>

    <!-- <mat-tab-group class="uni-tabs" [@.disabled]="true">
        <mat-tab label="Oppsummering">
            <amelding-summary-view
                [currentSumUp]="currentSumUp"
                [currentAMelding]="currentAMelding">
            </amelding-summary-view>
        </mat-tab>

        <mat-tab label="Arbeidsgiveravgift">
            <amelding-aga-view [currentSumUp]="currentSumUp"></amelding-aga-view>
        </mat-tab>

        <mat-tab label="Tilbakemelding">
            <amelding-receipt-view
                [currentAMelding]="currentAMelding"
                [aMeldingerInPeriod]="aMeldingerInPeriod">
            </amelding-receipt-view>
        </mat-tab>

        <mat-tab label="Periodeoppsummering">
            <amelding-periodsummary-view
                [currentAMelding]="currentAMelding"
                [systemData]="currentSumsInPeriod"
                [aMeldingerInPeriod]="aMeldingerInPeriod">
            </amelding-periodsummary-view>
        </mat-tab>
    </mat-tab-group> -->
</section>
