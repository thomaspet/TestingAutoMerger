<section class="activation-section">
    <section *ngIf="!isDemoLicense" class="info-message">
        <i class="material-icons good">check_circle</i>
        Kontrakt er allerede aktivert for dette selskapet
    </section>

    <section *ngIf="isDemoLicense && !canActivateContract" class="info-message">
        <i class="material-icons bad">error</i>
        Du har ikke tilgang til å aktivere kundeforhold.
        Dette må gjøres av lisensadministrator.
    </section>

    <section *ngIf="wrongCompanyMessage" class="info-message">
        <i class="material-icons bad">error</i>
        {{wrongCompanyMessage}}
        <a *ngIf="mainCompany" (click)="goToMainCompany()">{{mainCompany.Name}}</a>
    </section>

    <section *ngIf="isDemoLicense && canActivateContract && !wrongCompanyMessage" class="form-container">
        <h1>Aktivering av kundeforhold</h1>

        <form #f="ngForm" [formGroup]="licenseData">
            <label class="uni-label label-left">
                <span>Organisasjonsnummer</span>
                <input type="search"
                    formControlName="orgNumber"
                    [ngClass]="{'invalid': noBrRegMatch}"
                />
            </label>

            <small class="form-error" *ngIf="noBrRegMatch">
                Organisasjonsnummer finnes ikke i enhetsregisteret
            </small>

            <label class="uni-label label-left">
                <span>Selskapsnavn</span>
                <input type="text" formControlName="companyName">
            </label>

            <label class="uni-label label-left">
                <span>Addresse</span>
                <input type="text" formControlName="address">
            </label>

            <label class="uni-label label-left">
                <span>Postnummer</span>
                <input type="text" formControlName="postalCode">
            </label>

            <label class="uni-label label-left">
                <span>Poststed</span>
                <input type="text" formControlName="city">
            </label>

            <label class="uni-label label-left">
                <span>Regnskapsbyrå</span>
                <select formControlName="isBureau">
                    <option value="false">Nei</option>
                    <option value="true">Ja</option>
                </select>
            </label>

            <fieldset>
                <legend>Kontaktinformasjon</legend>

                <label class="uni-label label-left">
                    <span>Navn</span>
                    <input type="text" formControlName="name">
                </label>

                <label class="uni-label label-left">
                    <span>Telefon</span>
                    <input type="text" formControlName="phone">
                </label>

                <label class="uni-label label-left">
                    <span>Epost</span>
                    <input type="text" formControlName="email">
                </label>
            </fieldset>

            <section class="submit-section">
                <mat-checkbox formControlName="hasAcceptedTerms">
                    <span class="checkbox-label">
                        Jeg har lest og godtar
                        <a href="https://public-files.unieconomy.no/files/license/Lisensavtale_UniEconomy_v2.pdf" target="_blank" rel="noopener noreferrer">
                            lisensavtale for Uni Economy
                        </a>
                    </span>
                </mat-checkbox>

                <!-- SR Only -->
                <mat-checkbox *ngIf="isSrEnvironment"
                    [(ngModel)]="isSrCustomer"
                    [ngModelOptions]="{standalone: true}">

                    <span class="checkbox-label">
                        Jeg er allerede SR-bank bedriftskunde (ikke påkrevd)
                    </span>
                </mat-checkbox>

                <button
                    type="button"
                    class="good"
                    [attr.aria-busy]="busy"
                    [disabled]="!f?.form?.valid || noBrRegMatch"
                    (click)="activate()">
                    Aktiver kontrakt
                </button>
            </section>
        </form>
    </section>
</section>