<section role="dialog" class="uni-modal">
    <header>Samlefakturering</header>

    <article>
        <section *ngIf="busy" class="modal-spinner">
            <mat-spinner class="c2a"></mat-spinner>
        </section>

        <section class="alert" *ngIf="batchInvoice">
            <strong>Klar til å kjøre samlefakturering av {{numberOfItems}} {{entityLabel}}</strong>

            <span>
                Fakturaene sendes ut etter oppsatt <a (click)="goToDistributionSettings()">utsendingsplan</a>,
                og når jobben er fullført vil du få et varsel i applikasjonen.
                Du kan også velge å få en epost med oppsummering av jobben.
            </span>

            <mat-checkbox [(ngModel)]="batchInvoice.NotifyEmail">
                Send meg en epost når jobben er fullført
            </mat-checkbox>
        </section>

        <uni-form
            *ngIf="formFields?.length"
            [config]="{ autofocus: true }"
            [fields]="formFields"
            [model]="batchInvoice">
        </uni-form>
    </article>

    <footer>
        <button class="secondary" (click)="onClose.emit(false)">Avbryt</button>
        <button class="c2a" (click)="saveBatchInvoice()">Kjør samlefakturering</button>
    </footer>

</section>

