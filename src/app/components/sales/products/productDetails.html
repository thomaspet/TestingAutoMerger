<uni-toolbar *ngIf="!modalMode"
    [config]="toolbarconfig"
    [saveactions]="saveactions"
    [tags]="categoryFilter"
    [tagConfig]="tagConfig">
</uni-toolbar>

<section *ngIf="product" class="product-details application">
    <!--<uni-form
            [config]="config$"
            [fields]="fields$"
            [model]="product$"
            (changeEvent)="change($event)">
    </uni-form>-->
    <uniform2 name="form" #form
              appWithNavigation
              [fields]="fields$ | async"
              [(ngModel)]="product"
              (updateEvent)="change($event)">
    </uniform2>
    <article class="collapsable" [ngClass]="{'-is-open': showExtendedProductInfo}">
        <h4 (click)="showExtendedProductInfo = !showExtendedProductInfo">Utvidet produktinformasjon</h4>
        <div class="collapsable-content">
            <fieldset>
                <legend>Produktbeskrivelse</legend>
                <label>
                    <span>Beskrivelse</span>
                    <textarea
                            #descriptionField
                            [formControl]="descriptionControl"
                            (change)="textareaChange">
                    </textarea>
                </label>
            </fieldset>

            <fieldset>
                <legend>Produktbilde</legend>
                <small *ngIf="!product?.ID">Produktet må lagres før bilde kan lastes opp</small>
                <uni-image
                    [entity]="'product'"
                    [entityID]="product?.ID"
                    [uploadConfig]="imageUploadConfig">
                </uni-image>
            </fieldset>
        </div>
    </article>
</section>
