<section class="horizontal_nav">
    <ul>
        <li *ngFor="let tab of tabs; let idx = index">
            <a (click)="activeTabIndex = idx" [ngClass]="{'router-link-active': activeTabIndex === idx}">
                {{tab}}
            </a>
        </li>
    </ul>
</section>

<section class="application">
    <article class="tof-head">

        <tof-customer-card [readonly]="readonly"
                           [entity]="data"
                           [entityType]="entityName"
                           (entityChange)="onDataChange($event)">
        </tof-customer-card>

        <tof-details-form *ngIf="activeTabIndex === 0"
                          [entity]="data"
                          (entityChange)="onDataChange($event)"
                          [entityType]="entityName"
                          [readonly]="readonly"
                          [currencyCodes]="currencyCodes">
        </tof-details-form>

        <tof-delivery-form *ngIf="activeTabIndex === 1"
                           [entity]="data"
                           (entityChange)="onDataChange($event)"
                           [entityType]="entityName"
                           [readonly]="readonly">
        </tof-delivery-form>

        <fieldset *ngIf="activeTabIndex === 2" class="freetext-fieldset">
            <legend>Fritekst</legend>
            <label>
                <span>Kommentar</span>
                <input [formControl]="commentControl" (change)="onDataChange()" />
            </label>
            <label>
                <span>Fritekst</span>
                <textarea [formControl]="freeTextControl"
                        (change)="onDataChange()">
                </textarea>
            </label>
        </fieldset>

        <fieldset class="attachment-fieldset" *ngIf="activeTabIndex === 3">
            <legend>Dokumenter</legend>
            <label>
                <span>Vedlegg</span>
                <uni-attachments [entity]="entityName"
                                 [entityID]="data?.ID"
                                 [hideLabel]="true">
                </uni-attachments>
            </label>
        </fieldset>

        <fieldset class="reminder-fieldset" *ngIf="activeTabIndex === 4 && entityName === 'CustomerInvoice'">
            <legend>Purringer</legend>
            <invoice-reminders [customerInvoice]="data"></invoice-reminders>
        </fieldset>
    </article>
</section>
